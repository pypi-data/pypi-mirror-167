{"version":3,"file":"chunks/app_views_app_root_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"mdAoCA,QAjBA,WACE,MAAMA,GAASC,EAAAA,EAAAA,GAAeC,EAAAA,GAa9B,OAXAC,EAAAA,EAAAA,YAAU,KACR,IAAKH,EAAOI,iBACV,OAGF,MAAMC,EAAUL,EAAOI,iBACjBE,GAAMC,EAAAA,EAAAA,GAAoBC,EAAAA,GAAmB,CAACH,YAEpDI,EAAAA,eAAAA,QAAuBH,EAAvB,GACC,CAACN,IAEG,IACR,C","sources":["webpack:///./app/views/app/root.tsx"],"sourcesContent":["import {useEffect} from 'react';\nimport {browserHistory} from 'react-router';\n\nimport {DEFAULT_APP_ROUTE} from 'sentry/constants';\nimport ConfigStore from 'sentry/stores/configStore';\nimport {useLegacyStore} from 'sentry/stores/useLegacyStore';\nimport replaceRouterParams from 'sentry/utils/replaceRouterParams';\n\n/**\n * This view is used when a user lands on the route `/` which historically\n * is a server-rendered route which redirects the user to their last selected organization\n *\n * However, this does not work when in the experimental SPA mode (e.g. developing against a remote API,\n * or a deploy preview), so we must replicate the functionality and redirect\n * the user to the proper organization.\n *\n * TODO: There might be an edge case where user does not have `lastOrganization` set,\n * in which case we should load their list of organizations and make a decision\n */\nfunction AppRoot() {\n  const config = useLegacyStore(ConfigStore);\n\n  useEffect(() => {\n    if (!config.lastOrganization) {\n      return;\n    }\n\n    const orgSlug = config.lastOrganization;\n    const url = replaceRouterParams(DEFAULT_APP_ROUTE, {orgSlug});\n\n    browserHistory.replace(url);\n  }, [config]);\n\n  return null;\n}\n\nexport default AppRoot;\n"],"names":["config","useLegacyStore","ConfigStore","useEffect","lastOrganization","orgSlug","url","replaceRouterParams","DEFAULT_APP_ROUTE","browserHistory"],"sourceRoot":""}