"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_transactionDetails_index_tsx"],{"./app/components/pageAlertBar.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"eb4vrz50"})("display:flex;align-items:center;justify-content:center;color:",(e=>e.theme.headerBackground),";background-color:",(e=>e.theme.bannerBackground),";padding:6px 30px;font-size:14px;")},"./app/utils/discover/charts.tsx":(e,t,n)=>{n.d(t,{CX:()=>i,Xp:()=>p,gu:()=>l,x1:()=>u}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("./app/locale.tsx"),o=n("./app/utils.tsx"),a=n("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,o.ri)(e)?s(e,t):"—"}function s(e,t){if(!(0,o.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,a.rl)(e,2);case"duration":return(0,a.g9)(e/1e3,2,!0);case"size":return(0,o.F)(e);default:return e.toString()}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return u(e,t,n,r)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return n?(0,a.Du)(e):e.toLocaleString();case"percentage":return(0,a.rl)(e,0);case"duration":return c(e,r);case"size":return(0,o.F)(e,0);default:return e.toString()}}function c(e,t){var n;if(null!==(n=t)&&void 0!==n||(t=d(e)),0===e)return"0";switch(t){case a.ps:{const t=(e/a.ps).toFixed(0);return(0,r.t)("%swk",t)}case a.x4:{const t=(e/a.x4).toFixed(0);return(0,r.t)("%sd",t)}case a.kr:{const t=(e/a.kr).toFixed(0);return(0,r.t)("%shr",t)}case a.EB:{const t=(e/a.EB).toFixed(0);return(0,r.t)("%smin",t)}case a.sh:{const t=(e/a.sh).toFixed(0);return(0,r.t)("%ss",t)}default:const t=e.toFixed(0);return(0,r.t)("%sms",t)}}function p(e,t){let n=0;const r=function(e,t){var n;let r;if(null!==(n=e[0])&&void 0!==n&&n.data){var o;let n,a=e[0];e.forEach(((r,o)=>{var i;let{seriesName:s,data:l}=r;var u;!1!==(null==t||null===(i=t.selected)||void 0===i?void 0:i[s])&&l.length&&(a=e[o],null!==(u=n)&&void 0!==u||(n=e[o]))})),null!==(o=n)&&void 0!==o&&o.data&&(r={max:Math.max(...n.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...a.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return r}(e,t);if(r){const e=(r.max+r.min)/2;n=d((r.max-r.min)/5),(e/n).toFixed(0).length>6&&(n=d(e))}return n}function d(e){return e>=a.ps?a.ps:e>=a.x4?a.x4:e>=a.kr?a.kr:e>=a.EB?a.EB:e>=a.sh?a.sh:1}},"./app/utils/performance/histogram/utils.tsx":(e,t,n)=>{n.d(t,{GT:()=>i,_W:()=>a,te:()=>o}),n("../node_modules/core-js/modules/es.error.cause.js");var r=n("./app/utils/formatters.tsx");function o(e){return e.length>=2?e[1].bin-e[0].bin:0}function a(e){const t=o(e);return e.map((e=>{const n=e.bin;return{start:n,end:n+t}}))}function i(e){let{precision:t,type:n,additionalFieldsFn:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e=>{switch(n){case"duration":const o=null!=t?t:e<1e3?0:3;return(0,r.g9)(e/1e3,o,!0);case"number":const a=10**(null!=t?t:0);return(Math.round((e+Number.EPSILON)*a)/a).toLocaleString();default:throw new Error(`Unable to format type: ${n}`)}};return e.map((e=>{var t;return{value:e.count,name:a(e.bin),...null!==(t=null==o?void 0:o(e.bin))&&void 0!==t?t:{}}}))}},"./app/utils/profiling/routes.tsx":(e,t,n)=>{function r(e){let{orgSlug:t,projectSlug:n,profileId:r}=e;return`/organizations/${t}/profiling/profile/${n}/${r}/flamechart/`}function o(e){let{orgSlug:t,query:n}=e;const r=function(e){let{orgSlug:t}=e;return`/organizations/${t}/profiling/`}({orgSlug:t});return{pathname:r,query:{...n}}}function a(e){let{orgSlug:t,projectSlug:n,transaction:r,query:o}=e;const a=function(e){let{orgSlug:t,projectSlug:n}=e;return`/organizations/${t}/profiling/summary/${n}/`}({orgSlug:t,projectSlug:n});return{pathname:a,query:{...o,transaction:r}}}function i(e){let{orgSlug:t,projectSlug:n,profileId:o,query:a}=e;return{pathname:r({orgSlug:t,projectSlug:n,profileId:o}),query:{...a}}}function s(e){let{orgSlug:t,projectSlug:n,profileId:r,query:o}=e;const a=function(e){let{orgSlug:t,projectSlug:n,profileId:r}=e;return`/organizations/${t}/profiling/profile/${n}/${r}/details/`}({orgSlug:t,projectSlug:n,profileId:r});return{pathname:a,query:{...o}}}n.d(t,{O$:()=>r,Qy:()=>s,R0:()=>a,TH:()=>i,XR:()=>o})},"./app/views/performance/breadcrumb.tsx":(e,t,n)=>{n.d(t,{Z:()=>h});var r=n("./app/components/breadcrumbs.tsx"),o=n("./app/locale.tsx"),a=n("./app/utils/queryString.tsx"),i=n("./app/views/performance/transactionSummary/tabs.tsx"),s=n("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),l=n("./app/views/performance/transactionSummary/transactionSpans/utils.tsx"),u=n("./app/views/performance/transactionSummary/transactionTags/utils.tsx"),c=n("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),p=n("./app/views/performance/transactionSummary/utils.tsx"),d=n("./app/views/performance/vitalDetail/utils.tsx"),m=n("./app/views/performance/utils.tsx"),f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e){return(0,f.tZ)(r.Z,{crumbs:function(){const t=[],{organization:n,location:r,transaction:f,vitalName:g,spanSlug:h,eventSlug:v,traceSlug:y,tab:x}=e,S={pathname:(0,m.de)(n),query:{...r.query,transaction:void 0}};if(t.push({to:S,label:(0,o.t)("Performance"),preservePageFilters:!0}),g){const e=(0,d.i4)({orgSlug:n.slug,vitalName:"fcp",projectID:(0,a.ro)(r.query.project),query:r.query});t.push({to:e,label:(0,o.t)("Vital Detail"),preservePageFilters:!0})}else if(f){const e={orgSlug:n.slug,transaction:f.name,projectID:f.project,query:r.query};switch(x){case i.Z.Tags:{const n=(0,u.vG)(e);t.push({to:n,label:(0,o.t)("Tags"),preservePageFilters:!0});break}case i.Z.Events:{const n=(0,s.xr)(e);t.push({to:n,label:(0,o.t)("All Events"),preservePageFilters:!0});break}case i.Z.WebVitals:{const n=(0,c.Pl)(e);t.push({to:n,label:(0,o.t)("Web Vitals"),preservePageFilters:!0});break}case i.Z.Spans:{const n=(0,l.hN)(e);t.push({to:n,label:(0,o.t)("Spans"),preservePageFilters:!0});break}case i.Z.TransactionSummary:default:{const n=(0,p.e1)(e);t.push({to:n,label:(0,o.t)("Transaction Summary"),preservePageFilters:!0})}}}return f&&h?t.push({to:"",label:(0,o.t)("Span Summary")}):f&&v?t.push({to:"",label:(0,o.t)("Event Details")}):y&&t.push({to:"",label:(0,o.t)("Trace View")}),t}()})}g.displayName="Breadcrumb";const h=g},"./app/views/performance/transactionDetails/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/noProjectMessage.tsx"),a=n("./app/components/sentryDocumentTitle.tsx"),i=n("./app/locale.tsx"),s=n("./app/styles/organization.tsx"),l=n("./app/utils/useProjects.tsx"),u=n("./app/utils/withOrganization.tsx"),c=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),d=n("./app/components/asyncComponent.tsx"),m=n("./app/components/button.tsx"),f=n("./app/components/buttonBar.tsx"),g=n("./app/components/errors/notFound.tsx"),h=n("./app/components/events/eventCustomPerformanceMetrics.tsx"),v=n("./app/components/events/eventEntries.tsx"),y=n("./app/components/charts/styles.tsx"),x=n("./app/components/dateTime.tsx"),S=n("./app/components/fileSize.tsx"),E=n("./app/components/idBadge/projectBadge.tsx"),b=n("./app/components/links/externalLink.tsx"),w=n("./app/styles/space.tsx"),P=n("./app/utils/getDynamicText.tsx"),Z=n("./app/utils/projects.tsx"),_=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e){let{event:t,organization:n,projectId:r}=e;const o=`/api/0/projects/${n.slug}/${r}/events/${t.eventID}/json/`;return(0,_.BX)(A,{children:[(0,_.tZ)(y.OT,{children:(0,i.t)("Event ID")}),(0,_.tZ)(I,{"data-test-id":"event-id",children:t.eventID}),(0,_.tZ)(I,{children:(0,_.tZ)(x.Z,{date:(0,P.Z)({value:t.dateCreated||1e3*(t.endTimestamp||0),fixed:"Dummy timestamp"})})}),(0,_.tZ)(Z.Z,{orgId:n.slug,slugs:[r],children:e=>{let{projects:t}=e;const n=t.find((e=>e.slug===r));return(0,_.tZ)(R,{project:n||{slug:r},avatarSize:16})}}),(0,_.BX)(C,{href:o,className:"json-link",children:[(0,i.t)("Preview JSON")," (",(0,_.tZ)(S.Z,{bytes:t.size}),")"]})]})}j.displayName="EventMetadata";const A=(0,r.Z)("div",{target:"er0il1f3"})("margin-bottom:",(0,w.Z)(4),";"),I=(0,r.Z)("div",{target:"er0il1f2"})("display:flex;justify-content:space-between;font-size:",(e=>e.theme.fontSizeMedium),";"),C=(0,r.Z)(b.Z,{target:"er0il1f1"})("font-size:",(e=>e.theme.fontSizeMedium),";"),R=(0,r.Z)(E.Z,{target:"er0il1f0"})("margin-bottom:",(0,w.Z)(2),";"),T=j;var q=n("./app/components/events/eventVitals.tsx"),F=n("./app/components/events/interfaces/spans/context.tsx");class O extends p.Component{getTransactionEvent(){const{event:e}=this.props;if("transaction"===e.type)return e}getRootSpanStatus(){var e,t;const n=this.getTransactionEvent();if(!n)return"—";const r=null==n||null===(e=n.contexts)||void 0===e?void 0:e.trace;return null!==(t=null==r?void 0:r.status)&&void 0!==t?t:"—"}getHttpStatusCode(){const{event:e}=this.props,{tags:t}=e;if(!Array.isArray(t))return"";const n=t.find((e=>"http.status_code"===e.key));return n?n.value:""}render(){if(!this.getTransactionEvent())return null;const e=`${this.getHttpStatusCode()} ${this.getRootSpanStatus()}`.trim();return(0,_.BX)(M,{children:[(0,_.tZ)(N,{children:(0,_.tZ)(y.OT,{children:(0,i.t)("Status")})}),(0,_.tZ)("div",{children:e})]})}}O.displayName="RootSpanStatus";const M=(0,r.Z)("div",{target:"e1mhywwu1"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,w.Z)(4),";"),N=(0,r.Z)("div",{target:"e1mhywwu0"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),D=O;var L=n("./app/components/layouts/thirds.tsx"),k=n("./app/components/loadingError.tsx"),V=n("./app/components/tagsTable.tsx"),z=n("./app/icons/index.tsx"),$=n("./app/utils/analytics.tsx"),B=n("./app/utils/discover/fields.tsx"),U=n("./app/utils/performance/quickTrace/quickTraceContext.tsx"),X=n("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),G=n("./app/utils/performance/quickTrace/traceMetaQuery.tsx"),H=n("./app/utils/performance/quickTrace/utils.tsx"),Y=n("./app/utils/performance/urls.ts"),W=n("./app/utils/queryString.tsx"),K=n("./app/views/performance/breadcrumb.tsx"),Q=n("./app/views/performance/transactionSummary/utils.tsx"),J=n("./app/views/performance/utils.tsx"),ee=n("./app/views/performance/transactionDetails/eventMetas.tsx"),te=n("./app/components/pageAlertBar.tsx"),ne=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx");function re(e){let{organization:t,projectId:n}=e;return(0,_.BX)(te.Z,{children:[(0,_.tZ)(z.Db,{}),(0,_.tZ)(oe,{children:(0,i.t)("You are viewing a sample transaction. Configure performance to start viewing real transactions.")}),(0,_.tZ)(m.ZP,{size:"xs",priority:"primary",external:!0,href:"https://docs.sentry.io/performance-monitoring/getting-started/",onClick:()=>(0,ne.Z)("growth.sample_transaction_docs_link_clicked",{project_id:n,organization:t}),children:(0,i.t)("Get Started")})]})}re.displayName="FinishSetupAlert";const oe=(0,r.Z)("span",{target:"e63o3h0"})("margin:0 ",(0,w.Z)(1),";");var ae=n("../node_modules/@sentry/hub/esm/exports.js"),ie=n("./app/utils/profiling/routes.tsx"),se=n("./app/utils/useApi.tsx"),le=n("./app/utils/useOrganization.tsx");function ue(e){let{transactionId:t,orgId:n,projectId:r}=e;const o=(0,se.Z)(),a=(0,le.Z)(),[s,l]=(0,p.useState)({type:"initial"});if((0,p.useEffect)((()=>{(function(e,t,n,r){return e.requestPromise(`/projects/${n}/${r}/profiling/transactions/${t}/`,{method:"GET"})})(o,t,n,r).then((e=>{l({type:"resolved",data:e.profile_id})})).catch((e=>{404!==e.status&&ae.Tb(e)}))}),[o,t,n,r]),"resolved"!==s.type)return null;const u=(0,ie.O$)({orgSlug:n,projectSlug:r,profileId:s.data});return(0,_.tZ)(m.ZP,{onClick:function(){(0,ne.Z)("profiling_views.go_to_flamegraph",{organization:a,source:"transaction_details"})},to:u,children:(0,i.t)("Go to Profile")})}ue.displayName="TransactionToProfileButton";class ce extends d.Z{constructor(){super(...arguments),(0,c.Z)(this,"state",{loading:!0,reloading:!1,error:!1,errors:{},event:void 0,isSidebarVisible:!0}),(0,c.Z)(this,"toggleSidebar",(()=>{this.setState({isSidebarVisible:!this.state.isSidebarVisible})})),(0,c.Z)(this,"generateTagUrl",(e=>{const{location:t,organization:n}=this.props,{event:r}=this.state;if(!r)return"";const o=(0,W.ro)(t.query.query,""),a={...t.query,query:(0,W.os)(o,(0,B.ZC)(e.key),e.value)};return(0,Q.e1)({orgSlug:n.slug,transaction:r.title,projectID:r.projectID,query:a})}))}getEndpoints(){const{organization:e,params:t}=this.props,{eventSlug:n}=t;return[["event",`/organizations/${e.slug}/events/${n}/`]]}get projectId(){return this.props.eventSlug.split(":")[0]}renderBody(){const{event:e}=this.state,{organization:t}=this.props;if(!e)return(0,_.tZ)(g.Z,{});const n=e.tags.some((e=>"sample_event"===e.key&&"yes"===e.value));return(0,_.BX)(p.Fragment,{children:[n&&(0,_.tZ)(re,{organization:t,projectId:this.projectId}),this.renderContent(e)]})}renderContent(e){var t,n,r;const{organization:o,location:a,eventSlug:s,route:l,router:u,projects:c}=this.props;(0,$.ec)({eventKey:"performance.event_details",eventName:"Performance: Opened Event Details",event_type:e.type,organization_id:parseInt(o.id,10),project_platforms:(0,J.p9)(a,c)});const{isSidebarVisible:d}=this.state,g=e.title,y=(0,W.ro)(a.query.query,""),x=`/api/0/projects/${o.slug}/${this.projectId}/events/${e.eventID}/json/`,E=null!==(t=null===(n=e.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)&&void 0!==t?t:"",{start:b,end:w}=(0,H.$J)(e),P=o.features.includes("profiling");return(0,_.tZ)(G.Z,{location:a,orgSlug:o.slug,traceId:E,start:b,end:w,children:t=>(0,_.tZ)(X.Z,{event:e,location:a,orgSlug:o.slug,children:n=>{var r;return(0,_.BX)(p.Fragment,{children:[(0,_.BX)(L.h4,{children:[(0,_.BX)(L.oB,{children:[(0,_.tZ)(K.Z,{organization:o,location:a,transaction:{project:e.projectID,name:g},eventSlug:s}),(0,_.tZ)(L.Dx,{"data-test-id":"event-header",children:e.title})]}),(0,_.tZ)(L.kP,{children:(0,_.BX)(f.ZP,{gap:1,children:[(0,_.tZ)(m.ZP,{onClick:this.toggleSidebar,children:d?"Hide Details":"Show Details"}),n&&(0,_.BX)(m.ZP,{icon:(0,_.tZ)(z.V$,{}),href:x,external:!0,children:[(0,i.t)("JSON")," (",(0,_.tZ)(S.Z,{bytes:e.size}),")"]}),P&&(0,_.tZ)(ue,{orgId:o.slug,projectId:this.projectId,transactionId:e.eventID})]})})]}),(0,_.BX)(L.uT,{children:[n&&(0,_.tZ)(L.or,{fullWidth:!0,children:(0,_.tZ)(ee.Z,{quickTrace:n,meta:null!==(r=null==t?void 0:t.meta)&&void 0!==r?r:null,event:e,organization:o,projectId:this.projectId,location:a,errorDest:"issue",transactionDest:"performance"})}),(0,_.tZ)(L.or,{fullWidth:!d,children:(0,_.tZ)(Z.Z,{orgId:o.slug,slugs:[this.projectId],children:t=>{let{projects:r}=t;return(0,_.tZ)(F.z,{value:{getViewChildTransactionTarget:e=>(0,Y.D)(o.slug,e.eventSlug,e.transaction,a.query)},children:(0,_.tZ)(U.p.Provider,{value:n,children:(0,_.tZ)(v.j,{organization:o,event:e,project:r[0],showExampleCommit:!1,showTagSummary:!1,location:a,api:this.api,router:u,route:l})})})}})}),d&&(0,_.BX)(L.MF,{children:[void 0===n&&(0,_.BX)(p.Fragment,{children:[(0,_.tZ)(T,{event:e,organization:o,projectId:this.projectId}),(0,_.tZ)(D,{event:e})]}),(0,_.tZ)(q.Z,{event:e}),(o.features.includes("dashboards-mep")||o.features.includes("mep-rollout-flag"))&&(0,_.tZ)(h.Z,{event:e,location:a,organization:o,source:h.g.PERFORMANCE}),(0,_.tZ)(V.z,{event:e,query:y,generateUrl:this.generateTagUrl})]})]})]})}})})}renderError(e){const t=Object.values(this.state.errors).find((e=>e&&404===e.status)),n=Object.values(this.state.errors).find((e=>e&&403===e.status));return t?(0,_.tZ)(g.Z,{}):n?(0,_.tZ)(k.Z,{message:(0,i.t)("You do not have permission to view that event.")}):super.renderError(e,!0)}renderComponent(){const{organization:e}=this.props;return(0,_.tZ)(a.Z,{title:(0,i.t)("Performance - Event Details"),orgSlug:e.slug,children:super.renderComponent()})}}const pe=ce;function de(e){const{projects:t}=(0,l.Z)(),{organization:n,location:r,params:s,router:u,route:c}=e,p=(0,i.t)("Performance Details"),d=(()=>{const{eventSlug:t}=e.params;return"string"==typeof t?t.trim():""})(),m=d.split(":")[0];return(0,_.tZ)(a.Z,{title:p,orgSlug:n.slug,projectSlug:m,children:(0,_.tZ)(fe,{children:(0,_.tZ)(o.Z,{organization:n,children:(0,_.tZ)(pe,{organization:n,location:r,params:s,eventSlug:d,router:u,route:c,projects:t})})})})}de.displayName="EventDetails";const me=(0,u.Z)(de),fe=(0,r.Z)(s.JH,{target:"e6cv9030"})({name:"1hcx8jb",styles:"padding:0"})},"./app/views/performance/transactionSummary/tabs.tsx":(e,t,n)=>{var r;n.d(t,{Z:()=>o}),function(e){e[e.TransactionSummary=0]="TransactionSummary",e[e.WebVitals=1]="WebVitals",e[e.Tags=2]="Tags",e[e.Events=3]="Events",e[e.Spans=4]="Spans",e[e.Anomalies=5]="Anomalies",e[e.Replays=6]="Replays"}(r||(r={}));const o=r},"./app/views/performance/transactionSummary/transactionEvents/utils.tsx":(e,t,n)=>{n.d(t,{Zq:()=>d,_S:()=>l,q3:()=>s,qg:()=>p,tb:()=>c,xr:()=>u}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("./app/locale.tsx"),o=n("./app/utils/queryString.tsx"),a=n("./app/views/performance/transactionSummary/filter.tsx"),i=n("./app/views/performance/transactionSummary/utils.tsx");let s;function l(e,t){const{p99:n,p95:o,p75:i,p50:l}=t||{p99:0,p95:0,p75:0,p50:0};return{[s.p50]:{name:s.p50,query:l?[["transaction.duration",`<=${l.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,r.t)("p50")},[s.p75]:{name:s.p75,query:i?[["transaction.duration",`<=${i.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,r.t)("p75")},[s.p95]:{name:s.p95,query:o?[["transaction.duration",`<=${o.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,r.t)("p95")},[s.p99]:{name:s.p99,query:n?[["transaction.duration",`<=${n.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,r.t)("p99")},[s.p100]:{name:s.p100,label:(0,r.t)("p100")}}}function u(e){let{orgSlug:t,transaction:n,projectID:r,query:o}=e;return{pathname:`/organizations/${t}/performance/summary/events/`,query:{transaction:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function c(e){return t=(0,o.ro)(e.query.showTransactions,s.p100),Object.values(s).includes(t)?t:s.p100;var t}function p(e,t){var n,r;const o=l(t),a=null===(n=o[e].sort)||void 0===n?void 0:n.kind,i=null===(r=o[e].sort)||void 0===r?void 0:r.field,s={showTransactions:e};return a&&i&&(s.sort=`${"desc"===a?"-":""}${i}`),s}function d(e){switch(e){case i.K0.OUTLIER:return s.p100;case i.K0.SLOW:return s.p95;default:return}}!function(e){e.p50="p50",e.p75="p75",e.p95="p95",e.p99="p99",e.p100="p100"}(s||(s={}))},"./app/views/performance/transactionSummary/transactionSpans/types.tsx":(e,t,n)=>{let r,o;n.d(t,{g:()=>o,p:()=>r}),function(e){e.P50_EXCLUSIVE_TIME="p50ExclusiveTime",e.P75_EXCLUSIVE_TIME="p75ExclusiveTime",e.P95_EXCLUSIVE_TIME="p95ExclusiveTime",e.P99_EXCLUSIVE_TIME="p99ExclusiveTime"}(r||(r={})),function(e){e.COUNT="count",e.AVG_OCCURRENCE="avgOccurrence",e.SUM_EXCLUSIVE_TIME="sumExclusiveTime"}(o||(o={}))},"./app/views/performance/transactionSummary/transactionSpans/utils.tsx":(e,t,n)=>{n.d(t,{CS:()=>g,E5:()=>h,KK:()=>S,TK:()=>x,W6:()=>E,bc:()=>f,hN:()=>m,mV:()=>Z,uQ:()=>P,xz:()=>b,zW:()=>w}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.replace.js");var r=n("../node_modules/lodash/pick.js"),o=n.n(r),a=n("./app/constants/index.tsx"),i=n("./app/locale.tsx"),s=n("./app/utils.tsx"),l=n("./app/utils/discover/eventView.tsx"),u=n("./app/utils/discover/fields.tsx"),c=n("./app/utils/queryString.tsx"),p=n("./app/utils/tokenizeSearch.tsx"),d=n("./app/views/performance/transactionSummary/transactionSpans/types.tsx");function m(e){let{orgSlug:t,transaction:n,projectID:r,query:o}=e;const a=function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/spans/`}({orgSlug:t});return{pathname:a,query:{transaction:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}const f=30,g=o()(a.wh,["1h","24h","7d","14d","30d"]),h=[{prefix:(0,i.t)("Sort By"),label:(0,i.t)("Total Self Time"),field:d.g.SUM_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("Average Count"),field:d.g.AVG_OCCURRENCE},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("Total Count"),field:d.g.COUNT},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p50 Self Time"),field:d.p.P50_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p75 Self Time"),field:d.p.P75_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p95 Self Time"),field:d.p.P95_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p99 Self Time"),field:d.p.P99_EXCLUSIVE_TIME}],v=d.g.SUM_EXCLUSIVE_TIME;function y(e){return h.find((t=>t.field===e))||h.find((e=>e.field===v))}function x(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sort";const o=null!==(t=(0,c.ro)(null==e||null===(n=e.query)||void 0===n?void 0:n[r]))&&void 0!==t?t:v;return y(o)}function S(e){return y(e.sorts.length?e.sorts[0].field:v)}function E(e){if(!(0,s.ri)(e))return;const t=e.lastIndexOf(":");return t<0?void 0:{op:e.slice(0,t),group:e.slice(t+1)}}function b(e){let{location:t,transactionName:n}=e;const r=(0,c.ro)(t.query.query,""),o=new p.MY(r);o.setFilterValues("event.type",["transaction"]),o.setFilterValues("transaction",[n]),Object.keys(o.filters).forEach((e=>{(0,u.h1)(e)&&o.removeFilter(e)}));const a=l.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:n,fields:[...Object.values(d.g),...Object.values(d.p)],query:o.formatString(),projects:[]},t),i=x(t);return a.withSorts([{field:i.field,kind:"desc"}])}function w(e){const t=e.withColumns([{kind:"function",function:["count","",void 0,void 0]}]),n=new p.MY(e.query);return Object.keys(n.filters).forEach((e=>{(0,u.h1)(e)&&n.removeFilter(e)})),t.query=n.formatString(),t}const P={[d.g.SUM_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.g.AVG_OCCURRENCE]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","equation|count() / count_unique(id)","sumArray(spans_exclusive_time)"],[d.g.COUNT]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P50_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.5)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P75_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P95_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.95)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P99_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.99)","count()","count_unique(id)","sumArray(spans_exclusive_time)"]};function Z(e){return e.replace("exclusive","self")}},"./app/views/performance/transactionSummary/transactionTags/utils.tsx":(e,t,n)=>{n.d(t,{Zn:()=>a,bZ:()=>i,oT:()=>u,oc:()=>l,vG:()=>s}),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("./app/utils/analytics.tsx"),o=n("./app/utils/queryString.tsx");function a(e){return(0,o.ro)(e.query.tagKey)}function i(e){(0,r.ec)({eventKey:"performance_views.tags.interaction",eventName:"Performance Views: Tag Page - Interaction",organization_id:parseInt(e.id,10)})}function s(e){let{orgSlug:t,transaction:n,projectID:r,query:o}=e;const a=function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/tags/`}({orgSlug:t});return{pathname:a,query:{transaction:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query,tagKey:o.tagKey}}}function l(e){var t,n;let r=null!==(t=(0,o.ro)(null===(n=e.query)||void 0===n?void 0:n.tagSort))&&void 0!==t?t:"-frequency";return["sumdelta"].find((e=>{var t;return null===(t=r)||void 0===t?void 0:t.includes(e)}))&&(r="-frequency"),r}function u(e){const t=Object.keys(e).find((e=>e.includes("histogram")));if(!t)return;const n=t.split("_");return{histogramField:t,bucketSize:parseInt(n[n.length-3],10),offset:parseInt(n[n.length-2],10),multiplier:parseInt(n[n.length-1],10)}}},"./app/views/performance/transactionSummary/transactionVitals/utils.tsx":(e,t,n)=>{n.d(t,{A1:()=>u,L0:()=>s,Pl:()=>o,eH:()=>i,jb:()=>l,oZ:()=>a});var r=n("./app/utils/performance/histogram/utils.tsx");function o(e){let{orgSlug:t,transaction:n,projectID:r,query:o}=e;const a=function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/vitals/`}({orgSlug:t});return{pathname:a,query:{transaction:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function a(e,t){const n=(0,r.te)(e);return!e.length||t>=e[e.length-1].bin+n?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/n)}function i(e){if(e.length<2)return null;for(let t=0;t<e.length;t++){const n=e[t];for(let r=t+1;r<e.length;r++){const o=e[r];if(n.bin!==o.bin&&n.count!==o.count)return{point1:{x:t,y:Math.min(n.count,o.count)},point2:{x:r,y:Math.max(n.count,o.count)}}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function s(e,t){const n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1]))return null;const r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:r[0],y:r[1]}}}function l(e,t,n){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;const r=(e.x-t.point1.x)/(t.point2.x-t.point1.x),o=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*r,y:n.point1.y+(n.point2.y-n.point1.y)*o}}function u(e,t){return!(e&&!t.some((t=>!e[t])))||Object.values(e).filter((e=>0===e.total)).length>0}},"./app/views/performance/trends/types.tsx":(e,t,n)=>{let r,o,a;n.d(t,{A2:()=>a,ER:()=>r,Z2:()=>o}),function(e){e.IMPROVED="improved",e.REGRESSION="regression"}(r||(r={})),function(e){e.P50="p50",e.P75="p75",e.P95="p95",e.P99="p99",e.AVG="avg"}(o||(o={})),function(e){e.DURATION="transaction.duration",e.LCP="measurements.lcp",e.FCP="measurements.fcp",e.FID="measurements.fid",e.CLS="measurements.cls",e.SPANS_DB="spans.db",e.SPANS_HTTP="spans.http",e.SPANS_BROWSER="spans.browser",e.SPANS_RESOURCE="spans.resource"}(a||(a={}))},"./app/views/performance/trends/utils.tsx":(e,t,n)=>{n.d(t,{CE:()=>w,HF:()=>O,IO:()=>P,Kt:()=>_,P4:()=>q,RP:()=>R,T1:()=>h,Ws:()=>b,_1:()=>f,_H:()=>j,bg:()=>g,cs:()=>v,ed:()=>Z,es:()=>y,iF:()=>I,j_:()=>T,kM:()=>A,vq:()=>M,vt:()=>E,wx:()=>C}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/downsample/methods/ASAP.js"),o=n("../node_modules/moment/moment.js"),a=n.n(o),i=n("./app/components/charts/utils.tsx"),s=n("./app/locale.tsx"),l=n("./app/utils/discover/fields.tsx"),u=n("./app/utils/queryString.tsx"),c=n("./app/utils/theme.tsx"),p=n("./app/utils/tokenizeSearch.tsx"),d=n("./app/views/performance/utils.tsx"),m=n("./app/views/performance/trends/types.tsx");const f="14d",g="15min",h=[{label:"p50",field:m.Z2.P50,alias:"percentile_range",legendLabel:"p50"},{label:"p75",field:m.Z2.P75,alias:"percentile_range",legendLabel:"p75"},{label:"p95",field:m.Z2.P95,alias:"percentile_range",legendLabel:"p95"},{label:"p99",field:m.Z2.P99,alias:"percentile_range",legendLabel:"p99"},{label:"average",field:m.Z2.AVG,alias:"avg_range",legendLabel:"average"}],v=[{label:"Duration",column:m.A2.DURATION},{label:"LCP",column:m.A2.LCP},{label:"FCP",column:m.A2.FCP},{label:"FID",column:m.A2.FID},{label:"CLS",column:m.A2.CLS},{label:"Spans (http)",column:m.A2.SPANS_HTTP},{label:"Spans (db)",column:m.A2.SPANS_DB},{label:"Spans (browser)",column:m.A2.SPANS_BROWSER},{label:"Spans (resource)",column:m.A2.SPANS_RESOURCE}],y={[m.ER.IMPROVED]:{lighter:c.ZP.green200,default:c.ZP.green300},[m.ER.REGRESSION]:{lighter:c.ZP.red200,default:c.ZP.red300}},x={[m.ER.IMPROVED]:"improvedSelected",[m.ER.REGRESSION]:"regressionSelected"},S={[m.ER.IMPROVED]:"improvedUnselectedSeries",[m.ER.REGRESSION]:"regressionUnselectedSeries"},E={[m.ER.IMPROVED]:"improvedCursor",[m.ER.REGRESSION]:"regressionCursor"};function b(){const e={};return Object.values(E).forEach((t=>e[t]=void 0)),e}function w(e,t){var n;const r=null!=t?t:(0,u.ro)(null==e||null===(n=e.query)||void 0===n?void 0:n.trendFunction);return h.find((e=>{let{field:t}=e;return t===r}))||h[0]}function P(e,t,n){var r;const o=(0,u.ro)(null==e||null===(r=e.query)||void 0===r?void 0:r.trendParameter),a=v.find((e=>{let{label:t}=e;return t===o}));return a||function(e,t){return function(e){switch(e){case d.iy.FRONTEND:return{label:"LCP",column:m.A2.LCP};case d.iy.ANY:case d.iy.BACKEND:case d.iy.FRONTEND_OTHER:default:return{label:"Duration",column:m.A2.DURATION}}}((0,d.Bh)(e,t))}(t,n)}function Z(e,t){return(0,l.sN)({kind:"function",function:[e,t,void 0,void 0]})}function _(e,t){return{fromSeconds:e/1e3,toSeconds:t/1e3,showDigits:e>1e3||t>1e3||e<10||t<10}}function j(e,t){if(!e.project||!t)return;const n=t.find((t=>t.slug===e.project));return null==n?void 0:n.id}function A(e,t,n,r,o){const a=w(t),s=P(t,r,e.project),l=[...o?[]:["transaction"],"project"].map((e=>({field:e}))),c={field:"trend_percentage()",kind:"asc"};e.trendType=n,n===m.ER.REGRESSION&&(c.kind="desc"),a&&s&&(e.trendFunction=Z(a.field,s.column)),e.query=function(e){const t=new p.MY(e);return t.hasFilter("count_percentage()")||t.addFilterValues("count_percentage()",[">0.25","<4"]),t.hasFilter("trend_percentage()")||t.addFilterValues("trend_percentage()",[">0%"]),t.hasFilter("confidence()")||t.addFilterValues("confidence()",[">6"]),t.formatString()}(e.query),e.interval=function(e,t){var n;const r=(0,u.ro)(null==e||null===(n=e.query)||void 0===n?void 0:n.interval),{start:o,end:a,statsPeriod:s}=t,l={start:o||null,end:a||null,period:s},c=(0,i.ZS)(l,"high");return r||c}(t,e),e.sorts=[c],e.fields=l}function I(e,t){const{query:n}=t,r=n.start&&n.end;return n.statsPeriod||r||(e.statsPeriod=f),e}function C(e,t){const n=Math.abs(e);return{seconds:n/1e3,fixedDigits:n>1e3||n<10?1:0,changeLabel:t===m.ER.REGRESSION?(0,s.t)("slower"):(0,s.t)("faster")}}function R(e){const t=a()();return e.map((e=>({...e,received_at:t,transaction:e.transaction})))}function T(e){return x[e]}function q(e){return S[e]}const F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(0,r.Cl)(e,t)},O=e=>["p50","p75"].find((t=>e.includes(t)));function M(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;if(!e)return{maxValue:r,minValue:n,smoothedResults:void 0};const o=[];for(const a of e){const e=a.data,i=[],s=F(e.map((e=>{let{name:t,value:n}=e;return[Number(t),n]})));for(let e=0;e<s.length;e++){const t=s[e],o=t.y;if(i.push({name:t.x,value:o}),!isNaN(o)){const e=Math.round(o);n=Math.min(e,n),r=Math.max(e,r)}}o.push({seriesName:t||a.seriesName||"Current",data:i,lineStyle:a.lineStyle,color:a.color})}return{minValue:n,maxValue:r,smoothedResults:o}}},"./app/views/performance/utils.tsx":(e,t,n)=>{n.d(t,{Bh:()=>w,C$:()=>P,Ik:()=>Z,JY:()=>F,Ov:()=>I,R8:()=>C,U7:()=>h,Ws:()=>A,YL:()=>O,al:()=>R,bY:()=>N,de:()=>j,iL:()=>_,iy:()=>x,m_:()=>T,n4:()=>q,og:()=>v,p9:()=>D,rL:()=>M,uq:()=>y}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("../node_modules/react-router/es/index.js"),o=n("./app/constants/pageFilters.tsx"),a=n("./app/data/platformCategories.tsx"),i=n("./app/locale.tsx"),s=n("./app/utils/analytics.tsx"),l=n("./app/utils/dates.tsx"),u=n("./app/utils/discover/eventView.tsx"),c=n("./app/utils/discover/fields.tsx"),p=n("./app/utils/formatters.tsx"),d=n("./app/utils/getCurrentSentryReactTransaction.tsx"),m=n("./app/utils/queryString.tsx"),f=n("./app/utils/tokenizeSearch.tsx"),g=n("./app/views/performance/trends/utils.tsx");const h=["environment","project","query","start","end","statsPeriod"],v="<< unparameterized >>";function y(e){const t={id:void 0,name:(0,i.t)("Performance - Unparameterized Transactions "),query:'event.type:transaction transaction.source:"url"',projects:[],fields:["transaction","project","transaction.source","epm()","p50()","p95()"],version:2},n=u.ZP.fromNewQueryWithLocation(t,e.location).withSorts([{field:"epm",kind:"desc"}]).getResultsViewUrlTarget(e.organization.slug);return n.query.showUnparameterizedBanner="true",n}let x;!function(e){e.ANY="any",e.FRONTEND="frontend",e.BACKEND="backend",e.FRONTEND_OTHER="frontend_other",e.MOBILE="mobile"}(x||(x={}));const S=[...a.tQ],E=a.y3.filter((e=>"native"!==e)),b=[...a.ai];function w(e,t){if(0===t.length||t[0]===o.mP)return x.ANY;const n=e.filter((e=>t.includes(parseInt(`${e.id}`,10))));return 0===n.length||n.some((e=>!e.platform))?x.ANY:n.every((e=>S.includes(e.platform)))?x.FRONTEND:n.every((e=>E.includes(e.platform)))?x.BACKEND:n.every((e=>b.includes(e.platform)))?x.MOBILE:x.ANY}function P(e,t){const n=w(e,t.project);return n===x.FRONTEND&&new f.MY(t.query).getFilterValues("!transaction.op").some((e=>"pageload"===e))?x.FRONTEND_OTHER:n}function Z(e,t){return P(t,e)===x.FRONTEND}function _(e,t){return P(t,e)===x.FRONTEND||P(t,e)===x.FRONTEND_OTHER}function j(e){return`/organizations/${e.slug}/performance/`}function A(e){return`/organizations/${e.slug}/performance/trends/`}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,m.ro)(e.query.query,t).trim()}function C(e){let{location:t,organization:n,projectPlatforms:o}=e;(0,s.ec)({eventKey:"performance_views.change_view",eventName:"Performance Views: Change View",organization_id:parseInt(n.id,10),view_name:"TRENDS",project_platforms:o});const a=R({location:t,organization:n});r.browserHistory.push(a)}function R(e){let{location:t,organization:n,initialConditions:r,additionalQuery:o}=e;const a={...t.query,...o},i=(0,m.ro)(t.query.query,""),s=new f.MY(i),l=null!=r?r:new f.MY([]);return s.hasFilter("tpm()")?l.setFilterValues("tpm()",s.getFilterValues("tpm()")):l.setFilterValues("tpm()",[">0.01"]),s.hasFilter("transaction.duration")?l.setFilterValues("transaction.duration",s.getFilterValues("transaction.duration")):l.setFilterValues("transaction.duration",[">0",`<${g.bg}`]),a.query=l.formatString(),{pathname:A(n),query:{...a}}}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeTagKeys:new Set(["event.type","project"])};return e.getFilterKeys().forEach((n=>{const r=n.startsWith("!")?n.substr(1):n;(r.match(/\w+\(.*\)/)||c.J8.includes(r)||t.excludeTagKeys.has(r))&&e.removeFilter(n)})),e}function q(e){const t=(0,d.Z)(),n=(0,l.Ri)(e.datetime.period,e.datetime.start,e.datetime.end),r=Math.floor(86400*n);null==t||t.setTag("query.period",r.toString());let o=">30d";r<=86400?o="<=1d":r<=604800?o="<=7d":r<=1209600?o="<=14d":r<=2592e3&&(o="<=30d"),null==t||t.setTag("query.period.grouped",o)}function F(e){const{transaction:t}=e.query;return(0,m.ro)(t)}function O(e){return(0,p.g9)(e/1e3,e>1e3?2:0,!0)}function M(e){return!e.project.length||1===e.project.length&&e.project[0]===o.mP}function N(e,t){const n=e.query.project,r=Array.isArray(n)?new Set(n):new Set([n]);return t.reduce(((e,t)=>{var n;return r.has(t.id)&&e.push(null!==(n=t.platform)&&void 0!==n?n:"undefined"),e}),[])}function D(e,t){return N(e,t).join(", ")}},"./app/views/performance/vitalDetail/utils.tsx":(e,t,n)=>{n.d(t,{EX:()=>I,MN:()=>f,Np:()=>v,SP:()=>g,Uy:()=>S,Ve:()=>E,W0:()=>_,a7:()=>Z,cD:()=>A,eE:()=>m,fL:()=>h,i4:()=>y,iF:()=>x,il:()=>P,jo:()=>w,q4:()=>b,vk:()=>j}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("./app/components/charts/components/markLine.tsx"),o=n("./app/components/charts/utils.tsx"),a=n("./app/icons/index.tsx"),i=n("./app/locale.tsx"),s=n("./app/utils/discover/charts.tsx"),l=n("./app/utils/discover/fields.tsx"),u=n("./app/utils/fields/index.ts"),c=n("./app/utils/performance/vitals/constants.tsx"),p=n("./app/utils/queryString.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m={[u.Zl.FP]:3e3,[u.Zl.FCP]:3e3,[u.Zl.LCP]:4e3,[u.Zl.FID]:300,[u.Zl.CLS]:.25},f={[u.Zl.FP]:1e3,[u.Zl.FCP]:1e3,[u.Zl.LCP]:2500,[u.Zl.FID]:100,[u.Zl.CLS]:.1};let g;!function(e){e.POOR="Poor",e.MEH="Meh",e.GOOD="Good"}(g||(g={}));const h={[g.POOR]:"red300",[g.MEH]:"yellow300",[g.GOOD]:"green300"},v={[g.POOR]:(0,d.tZ)(a.pY,{color:h[g.POOR]}),[g.MEH]:(0,d.tZ)(a.tC,{color:h[g.MEH]}),[g.GOOD]:(0,d.tZ)(a.O1,{color:h[g.GOOD]})};function y(e){let{orgSlug:t,vitalName:n,projectID:r,query:o}=e;const a=function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/vitaldetail/`}({orgSlug:t});return{pathname:a,query:{vitalName:n,project:r,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function x(e){const t=(0,p.ro)(e.query.vitalName);return Object.values(u.Zl).find((e=>e===t))||u.Zl.LCP}function S(e){return e===u.Zl.CLS?(0,i.t)("CLS p75"):(0,i.t)("Duration p75")}function E(e){const t=m[e];return`compare_numeric_aggregate(${(0,l.LY)(`p75(${e})`)},greater,${t})`}function b(e){const t=f[e];return`compare_numeric_aggregate(${(0,l.LY)(`p75(${e})`)},greater,${t})`}const w={[u.Zl.FCP]:"First Contentful Paint",[u.Zl.CLS]:"Cumulative Layout Shift",[u.Zl.FID]:"First Input Delay",[u.Zl.LCP]:"Largest Contentful Paint"},P={[u.Zl.FCP]:"First Contentful Paint (FCP) measures the amount of time the first content takes to render in the viewport. Like FP, this could also show up in any form from the document object model (DOM), such as images, SVGs, or text blocks. At the moment, there is support for FCP in the following browsers:",[u.Zl.CLS]:"Cumulative Layout Shift (CLS) is the sum of individual layout shift scores for every unexpected element shift during the rendering process. Imagine navigating to an article and trying to click a link before the page finishes loading. Before your cursor even gets there, the link may have shifted down due to an image rendering. Rather than using duration for this Web Vital, the CLS score represents the degree of disruptive and visually unstable shifts. At the moment, there is support for CLS in the following browsers:",[u.Zl.FID]:"First Input Delay (FID) measures the response time when the user tries to interact with the viewport. Actions maybe include clicking a button, link or other custom Javascript controller. It is key in helping the user determine if a page is usable or not. At the moment, there is support for FID in the following browsers:",[u.Zl.LCP]:"Largest Contentful Paint (LCP) measures the render time for the largest content to appear in the viewport. This may be in any form from the document object model (DOM), such as images, SVGs, or text blocks. It’s the largest pixel area in the viewport, thus most visually defining. LCP helps developers understand how long it takes to see the main content on the page. At the moment, there is support for LCP in the following browsers:"},Z={[u.Zl.FCP]:"FCP",[u.Zl.CLS]:"CLS",[u.Zl.FID]:"FID",[u.Zl.LCP]:"LCP"},_={[u.Zl.FCP]:"custom",[u.Zl.CLS]:"cls",[u.Zl.FID]:"fid",[u.Zl.LCP]:"lcp"};function j(e){let t=-1/0;for(const{data:n}of e)for(const e of n)t=Math.max(t,e.value);return t}const A={[u.Zl.LCP]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA],[u.Zl.FID]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA,c.AR.FIREFOX,c.AR.SAFARI,c.AR.IE],[u.Zl.CLS]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA],[u.Zl.FP]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA],[u.Zl.FCP]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA,c.AR.FIREFOX,c.AR.SAFARI],[u.Zl.TTFB]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA,c.AR.FIREFOX,c.AR.SAFARI,c.AR.IE]};function I(e){let{theme:t,location:n,vital:a,yAxis:c}=e;const d="false"!==(0,p.ro)(n.query.utc),g=m[a],h=f[a];return{vitalPoor:g,vitalMeh:h,legend:{right:10,top:0,selected:(0,o.RI)(n)},chartOptions:{grid:{left:"5px",right:"10px",top:"35px",bottom:"0px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,t)=>(0,s.CX)(e,(0,l.Px)(a===u.Zl.CLS?t:c))},yAxis:{min:0,max:g,axisLabel:{color:t.chartLabel,showMaxLabel:!1,formatter:e=>(0,s.gu)(e,(0,l.Px)(c))}}},markLines:[{seriesName:"Thresholds",type:"line",data:[],markLine:(0,r.Z)({silent:!0,lineStyle:{color:t.red300,type:"dashed",width:1.5},label:{show:!0,position:"insideEndTop",formatter:(0,i.t)("Poor")},data:[{yAxis:g}]})},{seriesName:"Thresholds",type:"line",data:[],markLine:(0,r.Z)({silent:!0,lineStyle:{color:t.yellow300,type:"dashed",width:1.5},label:{show:!0,position:"insideEndTop",formatter:(0,i.t)("Meh")},data:[{yAxis:h}]})}],utc:d}}},"../node_modules/downsample/methods/ASAP.js":(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&r.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},o=e=>{for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length},a=(e,t)=>{for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t(e[o],o);return r},i=e=>r["PointValueExtractor<unknown>"](e)?e:t=>t[e],s=(e,t)=>({x:e,y:t}),l=()=>({x:e=>{var t=r.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:s}),u=(e,t)=>new e.constructor(t),c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],o=0,a=0;a<t;a++)o+=e[a];for(var i=t;i<=e.length;i++)(i-t)%n==0&&r.push(o/t),o+=e[i]-e[i-t];return r},p=e=>{var t=i(e.x),n=i(e.y),r=e.toPoint;return function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var s,l=a(e,n),c=a(e,t),p=u(e,0),d=0,m=0;m<o;m++)d+=l[m];for(var f=o;f<=l.length;f++)(f-o)%i==0&&(s=r((c[f-o]+c[f-1])/2,d/o,f-o),p[p.length]=s),d+=l[f]-l[f-o];return p}};function d(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;0!=n&&(0==(n&n-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var n=e.length;if(1!=n){for(var r=-1,o=0;o<32;o++)1<<o==n&&(r=o);if(-1==r)throw"Length is not a power of 2";for(var a=new Array(n/2),i=new Array(n/2),s=0;s<n/2;s++)a[s]=Math.cos(2*Math.PI*s/n),i[s]=Math.sin(2*Math.PI*s/n);for(var l=0;l<n;l++){var u=f(l,r);if(u>l){var c=e[l];e[l]=e[u],e[u]=c,c=t[l],t[l]=t[u],t[u]=c}}for(var p=2;p<=n;p*=2)for(var d=p/2,m=n/p,g=0;g<n;g+=p)for(var h=g,v=0;h<g+d;h++,v+=m){var y=e[h+d]*a[v]+t[h+d]*i[v],x=-e[h+d]*i[v]+t[h+d]*a[v];e[h+d]=e[h]-y,t[h+d]=t[h]-x,e[h]+=y,t[h]+=x}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var n=e.length,r=1;r<2*n+1;)r*=2;for(var o=new Array(n),a=new Array(n),i=0;i<n;i++){var s=i*i%(2*n);o[i]=Math.cos(Math.PI*s/n),a[i]=Math.sin(Math.PI*s/n)}for(var l=new Array(r),u=new Array(r),c=0;c<n;c++)l[c]=e[c]*o[c]+t[c]*a[c],u[c]=-e[c]*a[c]+t[c]*o[c];for(var p=n;p<r;p++)l[p]=u[p]=0;var f=new Array(r),g=new Array(r);f[0]=o[0],g[0]=a[0];for(var h=1;h<n;h++)f[h]=f[r-h]=o[h],g[h]=g[r-h]=a[h];for(var v=n;v<=r-n;v++)f[v]=g[v]=0;var y=new Array(r),x=new Array(r);!function(e,t,n,r,o,a){if(e.length!=t.length||e.length!=n.length||n.length!=r.length||e.length!=o.length||o.length!=a.length)throw"Mismatched lengths";var i=e.length;e=e.slice(),t=t.slice(),n=n.slice(),r=r.slice(),d(e,t),d(n,r);for(var s=0;s<i;s++){var l=e[s]*n[s]-t[s]*r[s];t[s]=t[s]*n[s]+e[s]*r[s],e[s]=l}m(e,t);for(var u=0;u<i;u++)o[u]=e[u]/i,a[u]=t[u]/i}(l,u,f,g,y,x);for(var S=0;S<n;S++)e[S]=y[S]*o[S]+x[S]*a[S],t[S]=-y[S]*a[S]+x[S]*o[S]}(e,t))}function m(e,t){d(t,e)}function f(e,t){for(var n=0,r=0;r<t;r++)n=n<<1|1&e,e>>>=1;return n}p(l());var g,h,v,y=e=>(e=>{for(var t=o(e),n=0,r=0;r<e.length;r+=1)n+=(e[r]-t)*(e[r]-t);return Math.sqrt(n/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var n=new Array(t),r=0;r<t;r++)n[r]=e[r+1]-e[r];return n})(e)),x=e=>{for(var t,n,r=e.length,a=o(e),i=0,s=0,l=0;l<r;l++)i+=(n=(t=e[l]-a)*t)*n,s+=n;return r*i/(s*s)},S=(g=l(),h=i(g.y),v=p(g),function e(t,r){if(0===t.length)return t;if(r<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(r));if(t.length>=2*r){var i=Math.trunc(t.length/r);return e(v(t,i,i),r)}for(var s=a(t,h),l=((e,t)=>{for(var r=e.length,a=o(e),i=Math.pow(2,Math.trunc(Math.log2(r))+1),s=new Array(i).fill(0),l=new Array(i).fill(0),u=0;u<r;u+=1)s[u]=e[u]-a;d(s,l);for(var c=0;c<s.length;c+=1)s[c]=Math.pow(s[c],2)+Math.pow(l[c],2),l[c]=0;m(s,l);for(var p=[],f=1;f<t;f++)p[f]=s[f]/s[0];var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=e.length;if(n<=1)return[[],0];var r=0,o=[];if(e.length>1)for(var a=e[1]>e[0],i=1,s=2;s<e.length;s+=1)!a&&e[s]>e[s-1]?(i=s,a=!a):a&&e[s]>e[i]?i=s:a&&e[s]<e[s-1]&&(i>1&&e[i]>t&&(o.push(i),e[i]>r&&(r=e[i])),a=!a);if(o.length<=1)for(var l=2;l<n;l+=1)o.push(l);return[o,r]}(p),h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g,2);return{correlations:p,peaks:h[0],maxCorrelation:h[1]}})(s,Math.round(s.length/10)),u=l.correlations,p=l.peaks,f=l.maxCorrelation,g=x(s),S=y(s),E=1,b=1,w=-1,P=s.length/10,Z=p.length-1;Z>=0;Z-=1){var _=p[Z];if(_<b||1===_)break;if(!(Math.sqrt(1-u[_])*E>Math.sqrt(1-u[E])*_)){var j=c(s,_,1),A=x(j),I=y(j);A>=g&&(I<S&&(S=I,E=_),b=Math.round(Math.max(_*Math.sqrt((f-1)/(u[_]-1)),b)),w<0&&(w=Z))}}return w>0&&(w<p.length-2&&(P=p[w+1]),b=Math.max(b,p[w]+1)),E=((e,t,n,r,o,a)=>{for(;e<=t;){var i=Math.round((e+t)/2),s=c(n,i,1);if(x(s)>=o){var l=y(s);l<r&&(a=i,r=l),e=i+1}else t=i-1}return a})(b,P,s,S,g,E),v(t,E,1)});t.Cl=S}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionDetails_index_tsx.fe099fc2aafe935bc5826f2c74a64ce7.js.map