"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_replays_walker_urlWalker_tsx-app_utils_replays_replayDataUtils_tsx-app_utils_u-d549a4"],{"./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var r=n("./app/icons/index.tsx"),s=n("./app/types/breadcrumbs.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){let{type:t}=e;switch(t){case s.kS.USER:case s.kS.UI:return(0,a.tZ)(r.qO,{size:"xs"});case s.kS.NAVIGATION:return(0,a.tZ)(r.tM,{size:"xs"});case s.kS.DEBUG:return(0,a.tZ)(r.w6,{size:"xs"});case s.kS.INFO:return(0,a.tZ)(r.aU,{size:"xs"});case s.kS.ERROR:return(0,a.tZ)(r.zC,{size:"xs"});case s.kS.HTTP:return(0,a.tZ)(r.Mr,{size:"xs",rotated:!0});case s.kS.WARNING:return(0,a.tZ)(r.FC,{size:"xs"});case s.kS.QUERY:return(0,a.tZ)(r.bv,{size:"xs"});case s.kS.SYSTEM:return(0,a.tZ)(r.yC,{size:"xs"});case s.kS.SESSION:return(0,a.tZ)(r.tr,{size:"xs"});case s.kS.TRANSACTION:return(0,a.tZ)(r.CR,{size:"xs"});default:return(0,a.tZ)(r.Ch,{size:"xs"})}}},"./app/components/events/interfaces/breadcrumbs/utils.tsx":(e,t,n)=>{n.d(t,{LP:()=>o,vf:()=>c}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var r=n("./app/locale.tsx"),s=n("./app/types/breadcrumbs.tsx"),a=n("./app/types/event.tsx"),i=n("./app/utils.tsx");function o(e){return e.map(((e,t)=>{var n;const a=function(e){if(e.type===s.kS.EXCEPTION)return{...e,type:s.kS.ERROR};if(e.type===s.kS.DEFAULT&&(0,i.ri)(null==e?void 0:e.category)){const[t,n]=e.category.split(".");if("ui"===t)return{...e,type:s.kS.UI};if("console"===t)return{...e,type:s.kS.DEBUG};if("navigation"===t)return{...e,type:s.kS.NAVIGATION};if("sentry"===t&&("transaction"===n||"event"===n))return{...e,type:s.kS.TRANSACTION}}return Object.values(s.kS).includes(e.type)?e:{...e,type:s.kS.DEFAULT}}(e),{color:o,description:l}=function(e){switch(e){case s.kS.USER:case s.kS.UI:return{color:"purple300",description:(0,r.t)("User Action")};case s.kS.NAVIGATION:return{color:"green300",description:(0,r.t)("Navigation")};case s.kS.DEBUG:return{color:"purple300",description:(0,r.t)("Debug")};case s.kS.INFO:return{color:"blue300",description:(0,r.t)("Info")};case s.kS.ERROR:return{color:"red300",description:(0,r.t)("Error")};case s.kS.HTTP:return{color:"green300",description:(0,r.t)("HTTP request")};case s.kS.WARNING:return{color:"yellow300",description:(0,r.t)("Warning")};case s.kS.QUERY:return{color:"blue300",description:(0,r.t)("Query")};case s.kS.SYSTEM:return{color:"pink300",description:(0,r.t)("System")};case s.kS.SESSION:return{color:"pink300",description:(0,r.t)("Session")};case s.kS.TRANSACTION:return{color:"pink300",description:(0,r.t)("Transaction")};default:return{color:"gray300",description:(0,r.t)("Default")}}}(a.type);return{...a,id:t,color:o,description:l,level:null!==(n=a.level)&&void 0!==n?n:s.nU.UNDEFINED}}))}function l(e){if(!e)return;const t=e.match(/^.*\/(.*?)(:\d+)/);return t?t[1]:e.split(/./)[0]}function c(e){const t=e.entries.find((e=>e.type===a.UZ.EXCEPTION));if(!t&&!e.message)return;const n=e.dateCreated;if(t){const{type:e,value:r,module:a}=t.data.values[0];return{type:s.kS.ERROR,level:s.nU.ERROR,category:l(a)||"exception",data:{type:e,value:r},timestamp:n}}const r=(e.tags||[]).find((e=>"level"===e.key));return{type:s.kS.INFO,level:(null==r?void 0:r.value)||s.nU.UNDEFINED,category:"message",message:e.message,timestamp:n}}},"./app/components/replays/breadcrumbs/utils.tsx":(e,t,n)=>{n.d(t,{s_:()=>i}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("./app/types/breadcrumbs.tsx");function s(e,t){var n,s;if(e.data&&"action"in e.data&&"largest-contentful-paint"===e.data.action&&e.timestamp&&t)return new Date(e.timestamp).getTime()-t+"ms";switch(e.type){case r.kS.NAVIGATION:return`${null!==(n=null===(s=e.data)||void 0===s?void 0:s.to)&&void 0!==n?n:""}`;case r.kS.DEFAULT:return JSON.stringify(e.data);default:return e.message||""}}function a(e){var t;const[n,r]=(null===(t=e.category)||void 0===t?void 0:t.split("."))||[];return e.data&&"label"in e.data?e.data.label:`${"ui"===n?"User":n} ${r||""}`}function i(e,t){return{title:a(e),description:s(e,t)}}},"./app/components/replays/playerRelativeTime.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/dateTime.tsx"),a=n("./app/components/replays/utils.tsx"),i=n("./app/components/tooltip.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{let{relativeTimeMs:t,timestamp:n}=e;return n&&t?(0,o.tZ)(i.Z,{title:(0,o.tZ)(s.Z,{date:n,seconds:!0}),disabled:!n,skipWrapper:!0,disableForVisualTest:!0,underlineColor:"gray300",showUnderline:!0,children:(0,o.tZ)(c,{children:(0,a.Ul)(n,t)})}):(0,o.tZ)("div",{})};l.displayName="PlayerRelativeTime";const c=(0,r.Z)("p",{target:"e1g9xaze0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";font-variant-numeric:tabular-nums;margin-bottom:0;"),u=l},"./app/components/replays/replayContext.tsx":(e,t,n)=>{n.d(t,{z:()=>f,M:()=>h}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/react/index.js"),s=n("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js"),a=n("../node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),i=n("../node_modules/rrweb/es/rrweb/packages/rrweb/src/types.js"),o=n("./app/utils/localStorage.tsx");const l=new Map;function c(e){let{replayer:t,nodeId:n}=e;if(!l.has(n))return!1;const r=l.get(n);return!(!r||!t.wrapper.contains(r.canvas)||(t.wrapper.removeChild(r.canvas),l.delete(n),0))}var u,d=n("./app/utils/usePrevious.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");!function(e){e.ReplayConfig="replay-config"}(u||(u={}));const m=r.createContext({clearAllHighlights:()=>{},currentHoverTime:void 0,currentTime:0,dimensions:{height:0,width:0},fastForwardSpeed:0,highlight:()=>{},initRoot:()=>{},isBuffering:!1,isFinished:!1,isPlaying:!1,isSkippingInactive:!0,removeHighlight:()=>{},replay:null,restart:()=>{},setCurrentHoverTime:()=>{},setCurrentTime:()=>{},setSpeed:()=>{},speed:1,togglePlayPause:()=>{},toggleSkipInactive:()=>{}});function g(e){o.Z.setItem(u.ReplayConfig,JSON.stringify(e))}function f(e){var t,n;let{children:f,replay:h,initialTimeOffset:v=0,value:y={}}=e;const b=null==h?void 0:h.getRRWebEvents(),x=(0,r.useRef)(JSON.parse(o.Z.getItem(u.ReplayConfig)||"{}")),k=(0,s.a)(),S=(0,d.Z)(b),T=b!==S,w=(0,r.useRef)(null),[C,N]=(0,r.useState)({height:0,width:0}),[I,Z]=(0,r.useState)(),[R,A]=(0,r.useState)(!1),[E,j]=(0,r.useState)(-1),[O,M]=(0,r.useState)(null===(t=x.current.skip)||void 0===t||t),[_,U]=(0,r.useState)(x.current.speed||1),[D,P]=(0,r.useState)(0),[z,H]=(0,r.useState)({target:-1,previous:-1}),F=(0,r.useRef)(void 0),L=(0,r.useRef)(!1),G=(null===(n=w.current)||void 0===n?void 0:n.getCurrentTime())===E,B=e=>{N(e)},q=e=>{P(e.speed)},V=()=>{P(0)},$=(0,r.useCallback)((e=>{let{nodeId:t,annotation:n}=e;const r=w.current;r&&function(e){var t,n;let{replayer:r,nodeId:s,annotation:a="",color:i}=e;const{mouseTail:o,wrapper:c}=r,u=r.getMirror().getNode(s);if(!u||null===(t=r.iframe.contentDocument)||void 0===t||null===(n=t.body)||void 0===n||!n.contains(u))return null;const{top:d,left:p,width:m,height:g}=u.getBoundingClientRect(),f=null!=i?i:"rgba(168, 196, 236, 0.75)",h=o.cloneNode(),v=h.getContext("2d");if(!v)return null;v.fillStyle=f,v.fillRect(p,d,m,g),v.beginPath(),v.setLineDash([5,5]),v.moveTo(p,d),v.lineTo(p+m,d),v.lineTo(p+m,d+g),v.lineTo(p,d+g),v.closePath(),v.stroke(),v.font="24px Rubik",v.textAlign="right",v.textBaseline="bottom";const y=v.measureText(a).width;v.fillStyle="rgba(30, 30, 30, 0.75)",v.fillRect(p+m-y,d+g-30,y,30),v.fillStyle="white",v.fillText(a,p+m,d+g),l.set(s,{canvas:h}),c.insertBefore(h,o)}({replayer:r,nodeId:t,annotation:n})}),[]),W=(0,r.useCallback)((()=>{const e=w.current;e&&function(e){let{replayer:t}=e;for(const e of l.keys())c({replayer:t,nodeId:e})}({replayer:e})}),[]),X=(0,r.useCallback)((e=>{let{nodeId:t}=e;const n=w.current;n&&c({replayer:n,nodeId:t})}),[]),Y=(0,r.useCallback)((()=>{var e,t;j(null!==(e=null===(t=w.current)||void 0===t?void 0:t.getCurrentTime())&&void 0!==e?e:-1),A(!1)}),[]),Q=(0,r.useCallback)((e=>{var t;if(void 0===b)return;if(null===e)return;if(w.current){var n;if(!T&&!L.current)return;if(0===(null===(n=w.current.iframe.contentDocument)||void 0===n?void 0:n.body.childElementCount))return;for(;e.firstChild;)e.removeChild(e.firstChild)}const r=new a.x(b,{root:e,blockClass:"sr-block",mouseTail:{duration:750,lineCap:"round",lineWidth:2,strokeStyle:k.purple200},skipInactive:null===(t=x.current.skip)||void 0===t||t,speed:x.current.speed||1});r.on(i.SA.Resize,B),r.on(i.SA.Finish,Y),r.on(i.SA.SkipStart,q),r.on(i.SA.SkipEnd,V),w.current=r,L.current&&(L.current=!1)}),[b,k.purple200,Y,T]);(0,r.useEffect)((()=>{const e=()=>{var e;"visible"!==document.visibilityState&&(null===(e=w.current)||void 0===e||e.pause())};return w.current&&b&&(Q(w.current.wrapper.parentElement),document.addEventListener("visibilitychange",e)),()=>{document.removeEventListener("visibilitychange",e)}}),[Q,b]);const J=(0,r.useCallback)((()=>w.current?Math.max(w.current.getCurrentTime(),0):0),[]),K=(0,r.useCallback)((e=>{var t;const n=w.current;if(!n)return;const r=e>(null===(t=w.current)||void 0===t?void 0:t.getMetaData().totalTime)?0:e;H({target:r,previous:J()}),F.current&&window.clearTimeout(F.current),R?(F.current=window.setTimeout((()=>n.play(r)),0),A(!0)):(F.current=window.setTimeout((()=>n.pause(r)),0),A(!1))}),[J,R]),ee=(0,r.useCallback)((e=>{const t=w.current;x.current={...x.current,speed:e},g(x.current),t&&(R?(t.pause(),t.setConfig({speed:e}),t.play(J())):t.setConfig({speed:e}),U(e))}),[J,R]),te=(0,r.useCallback)((e=>{const t=w.current;t&&(e?t.play(J()):t.pause(J()),A(e))}),[J]),ne=(0,r.useCallback)((()=>{w.current&&(w.current.play(0),A(!0))}),[]),re=(0,r.useCallback)((e=>{const t=w.current;x.current={...x.current,skip:e},g(x.current),t&&(e!==t.config.skipInactive&&t.setConfig({skipInactive:e}),M(e))}),[]);(0,r.useEffect)((()=>(v&&b&&w.current&&K(1e3*v),()=>{L.current=!0})),[b,w.current]);const se=function(e){const[t,n]=(0,r.useState)(0);return function(e){(0,r.useEffect)((()=>{const t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}),[e])}((()=>n(e))),t}(J),[ae,ie]=-1!==z.target&&z.previous===se&&z.target!==z.previous?[!0,z.target]:[!1,se];return ae||-1===z.target||H({target:-1,previous:-1}),(0,p.tZ)(m.Provider,{value:{clearAllHighlights:W,currentHoverTime:I,currentTime:ie,dimensions:C,fastForwardSpeed:D,highlight:$,initRoot:Q,isBuffering:ae,isFinished:G,isPlaying:R,isSkippingInactive:O,removeHighlight:X,replay:h,restart:ne,setCurrentHoverTime:Z,setCurrentTime:K,setSpeed:ee,speed:_,togglePlayPause:te,toggleSkipInactive:re,...y},children:f})}f.displayName="Provider";const h=()=>(0,r.useContext)(m)},"./app/components/replays/utils.tsx":(e,t,n)=>{n.d(t,{DF:()=>u,DR:()=>d,NH:()=>o,PE:()=>m,Ul:()=>l,cs:()=>g,mr:()=>c}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/lodash/padStart.js"),s=n.n(r);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=String(e);return s()(n,t,"0")}const i=36e5;function o(e,t){return Math.abs(new Date(e).getTime()-t)}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(o(e,t),n)}function c(e,t){if(e<=0||isNaN(e))return t?"00:00.000":"00:00";const n=Math.floor(e/i);e%=i;const r=Math.floor(e/6e4);e%=6e4;const s=Math.floor(e/1e3);let o="00:00";return o=n?`${a(n)}:${a(r)}:${a(s)}`:`${a(r)}:${a(s)}`,t&&(o=`${o}.${a(Math.floor(e%1e3),3)}`),o}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=Math.floor(t/n);const s=e-r*t>0?1:0;r-=s;const a=[1*i,18e5,12e5,9e5,6e5,3e5,12e4,6e4,3e4,1e4,5e3,1e3],o=a.reduce(((t,n)=>(t.set(n,Math.floor(e/n)),t)),new Map),[l,c]=Array.from(o.entries()).filter((e=>{let[t,n]=e;return n<=r})).reduce(((e,t)=>t[1]>e[1]?t:e),[0,0]),u=(e-l*c)/l;return{timespan:l,cols:c,remaining:u}}function d(e,t,n,r){const s=isNaN(t)?1:t;return n.map((t=>{const{timestamp:n}=t,a=+new Date(String(n)),i=isNaN(a)?0:a-e,o=Math.floor(i/s*(r-1))+1;return[Math.max(1,o),t]})).reduce(((e,t)=>{let[n,r]=t;var s;return e.has(n)?null===(s=e.get(n))||void 0===s||s.push(r):e.set(n,[r]),e}),new Map)}function p(e,t){const n=e.startTimestamp<=t.startTimestamp&&t.startTimestamp<=e.endTimestamp,r=e.startTimestamp<=t.endTimestamp&&t.endTimestamp<=e.endTimestamp;return n||r}function m(e){if(!e.length)return[];const t=e.map((e=>{const t=1e3*e.startTimestamp,n=1e3*e.endTimestamp;return{spanCount:1,startTimestamp:t,endTimestamp:n,duration:n-t}})),[n,...r]=t,s=[n];for(const e of r){let t=!1;for(const n of s)if(p(n,e)){t=!0,n.spanCount+=1,n.startTimestamp=Math.min(n.startTimestamp,e.startTimestamp),n.endTimestamp=Math.max(n.endTimestamp,e.endTimestamp),n.duration=n.endTimestamp-n.startTimestamp;break}t||s.push(e)}return s}function g(e,t){return void 0===t||isNaN(t)||0===t?0:e/t}},"./app/components/replays/walker/urlWalker.tsx":(e,t,n)=>{n.d(t,{E:()=>j,j:()=>O});var r=n("../node_modules/react/index.js"),s=n("./app/components/replays/replayContext.tsx"),a=n("./app/components/replays/utils.tsx"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/icons/index.tsx"),l=n("./app/styles/space.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{items:t}=e;return(0,c.tZ)(d,{cols:t.length,children:t.flatMap(((e,t)=>{const n=(0,c.tZ)(p,{children:e},`${t}-item`);return 0===t?n:[(0,c.tZ)(p,{children:(0,c.tZ)(m,{children:(0,c.tZ)(o.g6,{color:"gray300",size:"xs",direction:"right"})})},`${t}-chev`),n]}))})}u.displayName="ChevronDividedList";const d=(0,i.Z)("ul",{target:"e1k88cjg2"})("padding:0;margin:0;list-style:none;display:grid;gap:",(0,l.Z)(1),";grid-template-columns:",(e=>e.cols<=3?"minmax(auto, max-content) max-content minmax(auto, max-content) max-content minmax(auto, max-content)":"minmax(auto, max-content) repeat(3, max-content) minmax(auto, max-content)"),";flex-wrap:nowrap;align-items:center;overflow:hidden;"),p=(0,i.Z)("li",{target:"e1k88cjg1"})({name:"jc8dhw",styles:"display:flex;flex-direction:column;overflow:hidden"}),m=(0,i.Z)("span",{target:"e1k88cjg0"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:1;"),g=u;var f=n("../node_modules/lodash/first.js"),h=n.n(f),v=n("../node_modules/lodash/last.js"),y=n.n(v),b=n("./app/components/hovercard.tsx"),x=n("./app/components/textOverflow.tsx"),k=n("./app/components/tooltip.tsx"),S=n("./app/locale.tsx"),T=n("./app/utils/replays/hooks/useCrumbHandlers.tsx"),w=n("./app/views/replays/detail/breadcrumbs/breadcrumbItem.tsx");function C(e){let{onClick:t,path:n}=e;if(!n)return null;const r=(0,c.tZ)(k.Z,{title:n,children:(0,c.tZ)(x.Z,{ellipsisDirection:"left",children:n})});return t?(0,c.tZ)(Z,{href:"#",onClick:t,children:r}):(0,c.tZ)(I,{children:r})}function N(e){let{crumbs:t,handleOnClick:n,startTimestampMs:r}=e;const{handleMouseEnter:s,handleMouseLeave:a}=(0,T.Z)(r),i=t.map(((e,t)=>(0,c.tZ)(w.Z,{crumb:e,startTimestampMs:r,isHovered:!1,isSelected:!1,onMouseEnter:s,onMouseLeave:a,onClick:n},e.id||t)));return(0,c.tZ)(I,{children:(0,c.tZ)(R,{body:i,position:"right",children:(0,c.tZ)(x.Z,{children:(0,S.tn)("%s Page","%s Pages",i.length)})})})}C.displayName="SingleLinkSegment",N.displayName="SummarySegment";const I=(0,i.Z)("span",{target:"efcvq592"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:0;max-width:120px;"),Z=(0,i.Z)("a",{target:"efcvq591"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:0;text-decoration:underline;"),R=(0,i.Z)((e=>{let{children:t,bodyClassName:n,...r}=e;return(0,c.tZ)(b.uI,{bodyClassName:n||" half-padding",...r,children:t})}),{target:"efcvq590"})(".half-padding{padding:",(0,l.Z)(.5),";}"),A=function(e){var t,n,r,s;let{crumbs:a,onClick:i,startTimestampMs:o}=e;const l=null===(t=h()(a))||void 0===t||null===(n=t.data)||void 0===n?void 0:n.to,u=a.slice(1,-1),d=null===(r=y()(a))||void 0===r||null===(s=r.data)||void 0===s?void 0:s.to;return 0===a.length?[(0,c.tZ)(I,{children:(0,c.tZ)(x.Z,{children:(0,S.tn)("%s Page","%s Pages",0)})},"summary")]:a.length>3?[(0,c.tZ)(C,{path:l,onClick:i?()=>i(h()(a)):null},"first"),(0,c.tZ)(N,{crumbs:u,startTimestampMs:o,handleOnClick:i},"summary"),(0,c.tZ)(C,{path:d,onClick:i?()=>i(y()(a)):null},"last")]:a.map(((e,t)=>(0,c.tZ)(C,{path:l,onClick:i?()=>i(e):null},t)))};var E=n("./app/types/breadcrumbs.tsx");const j=(0,r.memo)((function(e){let{crumbs:t,replayRecord:n}=e;const{setCurrentTime:i}=(0,s.M)(),o=n.startedAt.getTime(),l=(0,r.useCallback)((e=>{void 0!==e.timestamp&&i((0,a.NH)(e.timestamp,o))}),[i,o]),u=t.filter((e=>e.type===E.kS.NAVIGATION));return(0,c.tZ)(g,{items:A({crumbs:u,startTimestampMs:o,onClick:l})})})),O=(0,r.memo)((function(e){let{urls:t}=e;return(0,c.tZ)(g,{items:A({crumbs:t.map(M),startTimestampMs:0,onClick:null})})}));function M(e){return{type:E.kS.NAVIGATION,category:E.kS.NAVIGATION,level:E.nU.INFO,description:"Navigation",id:0,color:"green300",timestamp:void 0,data:{to:e}}}},"./app/types/breadcrumbs.tsx":(e,t,n)=>{let r,s;function a(e){return![s.HTTP,s.NAVIGATION].includes(e.type)}n.d(t,{T5:()=>a,kS:()=>s,nU:()=>r}),n("../node_modules/core-js/modules/es.array.includes.js"),function(e){e.FATAL="fatal",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEBUG="debug",e.UNDEFINED="undefined",e.LOG="log"}(r||(r={})),function(e){e.INFO="info",e.DEBUG="debug",e.MESSAGE="message",e.QUERY="query",e.UI="ui",e.USER="user",e.EXCEPTION="exception",e.WARNING="warning",e.ERROR="error",e.DEFAULT="default",e.HTTP="http",e.NAVIGATION="navigation",e.SYSTEM="system",e.SESSION="session",e.TRANSACTION="transaction",e.INIT="init"}(s||(s={}))},"./app/utils/replays/hooks/useActiveReplayTab.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var r=n("../node_modules/react/index.js"),s=n("./app/utils/useUrlParams.tsx");let a;function i(e){return e in a}!function(e){e.console="console",e.dom="dom",e.network="network",e.trace="trace",e.issues="issues",e.memory="memory"}(a||(a={}));const o=a.console,l=function(){const{getParamValue:e,setParamValue:t}=(0,s.Z)("t_main",o),n=e();return{getActiveTab:(0,r.useCallback)((()=>i(n||"")?n:o),[n]),setActiveTab:(0,r.useCallback)((e=>i(e)?t(e):t(o)),[t])}}},"./app/utils/replays/hooks/useCrumbHandlers.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var r=n("../node_modules/react/index.js"),s=n("./app/components/replays/replayContext.tsx"),a=n("./app/components/replays/utils.tsx");const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{clearAllHighlights:t,highlight:n,removeHighlight:i,setCurrentHoverTime:o,setCurrentTime:l}=(0,s.M)(),c=(0,r.useCallback)((r=>{var s;e&&o((0,a.NH)(null!==(s=r.timestamp)&&void 0!==s?s:"",e)),r.data&&"nodeId"in r.data&&(t(),n({nodeId:r.data.nodeId,annotation:r.data.label}))}),[o,e,n,t]),u=(0,r.useCallback)((e=>{o(void 0),e.data&&"nodeId"in e.data&&i({nodeId:e.data.nodeId})}),[o,i]),d=(0,r.useCallback)((t=>{void 0!==t.timestamp&&void 0!==e&&l((0,a.NH)(t.timestamp,e))}),[l,e]);return{handleMouseEnter:c,handleMouseLeave:u,handleClick:d}}},"./app/utils/replays/replayDataUtils.tsx":(e,t,n)=>{n.d(t,{_O:()=>d,ay:()=>c,iz:()=>p,qC:()=>l,so:()=>u}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=n("../node_modules/lodash/first.js"),s=n.n(r),a=n("./app/components/events/interfaces/breadcrumbs/utils.tsx"),i=n("./app/locale.tsx"),o=n("./app/types/breadcrumbs.tsx");function l(e){return{...e,...e.startedAt?{startedAt:new Date(e.startedAt)}:{},...e.finishedAt?{finishedAt:new Date(e.finishedAt)}:{}}}function c(e,t){const n=[].concat(t).concat({type:5,timestamp:e.finishedAt.getTime(),data:{tag:"replay-end"}});return n.sort(((e,t)=>e.timestamp-t.timestamp)),s()(n).timestamp=e.startedAt.getTime(),n}function u(e,t,n,r){var s;const l=null===(s=e.tags.url)||void 0===s?void 0:s.join(", "),c={type:o.kS.INIT,timestamp:e.startedAt.toISOString(),level:o.nU.INFO,message:l,data:{action:"replay-init",label:(0,i.t)("Start recording"),url:l}},u=t.map((e=>({type:o.kS.ERROR,level:o.nU.ERROR,category:"exception",message:e["error.value"],data:{label:e["error.type"]},timestamp:e.timestamp}))),d=r.filter((e=>["navigation.navigate","navigation.reload","largest-contentful-paint"].includes(e.op))).map((e=>{if(e.op.startsWith("navigation")){const[,t]=e.op.split(".");return{category:"default",type:o.kS.NAVIGATION,timestamp:new Date(1e3*e.startTimestamp).toISOString(),level:o.nU.INFO,message:e.description,action:t,data:{to:e.description,label:"reload"===t?(0,i.t)("Reload"):"navigate"===t?(0,i.t)("Page load"):(0,i.t)("Navigation"),...e.data}}}return{type:o.kS.DEBUG,timestamp:new Date(1e3*e.startTimestamp).toISOString(),level:o.nU.INFO,category:"default",data:{action:e.op,...e.data,label:"largest-contentful-paint"===e.op?(0,i.t)("LCP"):e.op}}})),p=r.find((e=>"navigation.navigate"===e.op));return(0,a.LP)([...p?[]:[c],...n.map((e=>{let{timestamp:t,...n}=e;return{...n,type:o.kS.DEFAULT,timestamp:new Date(1e3*t).toISOString()}})),...u,...d]).sort(((e,t)=>+new Date(e.timestamp||0)-+new Date(t.timestamp||0)))}function d(e){return e.sort(((e,t)=>e.startTimestamp-t.startTimestamp))}function p(e,t,n){const r=e.map((e=>e.timestamp)),s=t.map((e=>e.timestamp)).filter(Boolean).map((e=>+new Date(1e3*e))),a=n.map((e=>1e3*e.startTimestamp)),i=n.map((e=>1e3*e.endTimestamp));return{startTimestampMs:Math.min(...r,...s,...a),endTimestampMs:Math.max(...r,...s,...i)}}},"./app/utils/useLocation.tsx":(e,t,n)=>{n.d(t,{T:()=>s});var r=n("./app/utils/useRouteContext.tsx");function s(){return(0,r.s)().location}},"./app/utils/useUrlParams.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var r=n("../node_modules/react/index.js"),s=n("../node_modules/react-router/es/index.js"),a=n("./app/utils/useRouteContext.tsx");const i=function(e,t){const{location:n}=(0,a.s)(),i=(0,r.useCallback)((e=>n.query[e]||t),[n,t]),o=(0,r.useCallback)(((e,t)=>{s.browserHistory.push({...n,query:{...n.query,[e]:t}})}),[n]),l=(0,r.useCallback)((()=>i(e||"")),[i,e]),c=(0,r.useCallback)((t=>o(e||"",t)),[o,e]);return void 0!==e?{getParamValue:l,setParamValue:c}:{getParamValue:i,setParamValue:o}}},"./app/views/replays/detail/breadcrumbs/breadcrumbItem.tsx":(e,t,n)=>{n.d(t,{Z:()=>b});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),a=n("./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx"),i=n("./app/components/panels/index.tsx"),o=n("./app/components/replays/breadcrumbs/utils.tsx"),l=n("./app/components/replays/playerRelativeTime.tsx"),c=n("./app/styles/space.tsx"),u=n("./app/utils/replays/hooks/useActiveReplayTab.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{crumb:t,isHovered:n,isSelected:r,startTimestampMs:i,allowHover:c=!0,onMouseEnter:p,onMouseLeave:b,onClick:x}=e;const{title:k,description:S}=(0,o.s_)(t,i),{setActiveTab:T}=(0,u.Z)(),w=(0,s.useCallback)((e=>p&&p(t,e)),[p,t]),C=(0,s.useCallback)((e=>b&&b(t,e)),[b,t]),N=(0,s.useCallback)((e=>{switch(null==x||x(t,e),t.type){case"navigation":case"debug":T("network");break;case"ui":T("dom");break;case"error":T("issues");break;default:T("console")}}),[t,T,x]);return(0,d.BX)(v,{as:x?"button":"span",onMouseEnter:w,onMouseLeave:C,onClick:N,isHovered:n,isSelected:r,"aria-current":r,allowHover:c,children:[(0,d.tZ)(y,{color:t.color,children:(0,d.tZ)(a.Z,{type:t.type})}),(0,d.BX)(m,{children:[(0,d.BX)(g,{children:[(0,d.tZ)(f,{children:k}),(0,d.tZ)(l.Z,{relativeTimeMs:i,timestamp:t.timestamp})]}),(0,d.tZ)(h,{title:S,children:S})]})]})}p.displayName="BreadcrumbItem";const m=(0,r.Z)("div",{target:"e1kgqibp5"})({name:"jc8dhw",styles:"display:flex;flex-direction:column;overflow:hidden"}),g=(0,r.Z)("div",{target:"e1kgqibp4"})("display:flex;justify-content:space-between;gap:",(0,c.Z)(1),";"),f=(0,r.Z)("span",{target:"e1kgqibp3"})((e=>e.theme.overflowEllipsis),";text-transform:capitalize;font-weight:600;color:",(e=>e.theme.gray400),";line-height:",(e=>e.theme.text.lineHeightBody),";"),h=(0,r.Z)("span",{target:"e1kgqibp2"})((e=>e.theme.overflowEllipsis),";font-size:0.7rem;font-variant-numeric:tabular-nums;line-height:",(e=>e.theme.text.lineHeightBody),";color:",(e=>e.theme.subText),";"),v=(0,r.Z)(i.Lv,{target:"e1kgqibp1"})("display:grid;grid-template-columns:max-content auto;align-items:flex-start;gap:",(0,c.Z)(1),";width:100%;font-size:",(e=>e.theme.fontSizeMedium),";background:transparent;padding:",(0,c.Z)(1),";text-align:left;border:none;position:relative;",(e=>e.isSelected&&`background-color: ${e.theme.purple100};`)," ",(e=>e.isHovered&&`background-color: ${e.theme.surface100};`)," border-radius:",(e=>e.theme.borderRadius),";",(e=>e.allowHover&&` &:hover {\n    background-color: ${e.theme.surface100};\n  }`),"&::after{content:'';position:absolute;left:19.5px;width:1px;background:",(e=>e.theme.gray200),";height:100%;}&:first-of-type::after{top:",(0,c.Z)(1),";bottom:0;}&:last-of-type::after{top:0;height:",(0,c.Z)(1),";}&:only-of-type::after{height:0;}"),y=(0,r.Z)("div",{target:"e1kgqibp0"})("display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;color:",(e=>e.theme.white),";background:",(e=>{var t;return null!==(t=e.theme[e.color])&&void 0!==t?t:e.color}),";box-shadow:",(e=>e.theme.dropShadowLightest),";position:relative;z-index:",(e=>e.theme.zIndex.initial),";"),b=(0,s.memo)(p)}}]);
//# sourceMappingURL=../sourcemaps/app_components_replays_walker_urlWalker_tsx-app_utils_replays_replayDataUtils_tsx-app_utils_u-d549a4.f09d75eef3579360df1d0bd3d7aa9c27.js.map