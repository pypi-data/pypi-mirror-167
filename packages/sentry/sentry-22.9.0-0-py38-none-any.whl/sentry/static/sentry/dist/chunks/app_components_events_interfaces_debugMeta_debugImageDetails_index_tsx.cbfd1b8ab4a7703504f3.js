"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_interfaces_debugMeta_debugImageDetails_index_tsx"],{"./app/components/events/interfaces/debugMeta/debugImageDetails/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{DebugImageDetails:()=>tt,modalCss:()=>ot});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),o=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/lodash/partition.js"),l=n.n(r),d=n("../node_modules/lodash/sortBy.js"),c=n.n(d),u=n("./app/actionCreators/indicator.tsx"),p=n("./app/components/asyncComponent.tsx"),m=n("./app/components/button.tsx"),h=n("./app/components/buttonBar.tsx"),g=n("./app/locale.tsx"),f=n("./app/styles/space.tsx"),b=n("./app/types/debugFiles.tsx"),Z=n("./app/types/debugImage.tsx"),y=n("./app/utils/displayReprocessEventAction.tsx"),v=n("./app/utils/theme.tsx"),w=n("./app/views/settings/projectDebugFiles/utils.tsx"),x=n("./app/components/events/interfaces/debugMeta/utils.tsx"),S=(n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/lodash/debounce.js")),D=n.n(S),_=n("../node_modules/lodash/isEqual.js"),E=n.n(_),T=n("../node_modules/lodash/pick.js"),k=n.n(T),B=n("./app/components/links/externalLink.tsx"),C=n("./app/components/panels/panelTable.tsx"),F=n("./app/components/questionTooltip.tsx"),N=n("./app/utils.tsx"),O=n("./app/components/events/interfaces/searchBarAction.tsx"),R=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/@sentry/hub/esm/exports.js")),j=n("./app/components/tag.tsx"),I=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const U=function(e){let{status:t,...n}=e;switch(t){case Z.il.OK:return(0,I.tZ)(j.Z,{type:"success",...n,children:(0,g.t)("Ok")});case Z.il.ERROR:case Z.il.MALFORMED:return(0,I.tZ)(j.Z,{type:"error",...n,children:(0,g.t)("Failed")});case Z.il.NOT_FOUND:return(0,I.tZ)(j.Z,{...n,children:(0,g.t)("Not Found")});case Z.il.NO_PERMISSION:return(0,I.tZ)(j.Z,{type:"highlight",...n,children:(0,g.t)("Permissions")});case Z.il.DELETED:return(0,I.tZ)(j.Z,{type:"success",...n,children:(0,g.t)("Deleted")});case Z.il.UNAPPLIED:return(0,I.tZ)(j.Z,{type:"warning",...n,children:(0,g.t)("Unapplied")});default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate download status"))})),(0,I.tZ)(j.Z,{...n,children:(0,g.t)("Unknown")})}},A="sentry:project",L="sentry://project_debug_file/";var z=n("./app/components/tooltip.tsx");function P(e){let{candidate:t,hasReprocessWarning:n}=e;const{download:s}=t,{label:i,description:a,disabled:o}=function(e,t){const{download:n,location:s,source:i}=e;switch(n.status){case Z.il.OK:return{label:(0,g.t)("Download Details"),description:s,disabled:!s||i===A};case Z.il.ERROR:case Z.il.MALFORMED:{const{details:e}=n;return{label:(0,g.t)("Download Details"),description:e,disabled:!e}}case Z.il.NOT_FOUND:return{};case Z.il.NO_PERMISSION:{const{details:e}=n;return{label:(0,g.t)("Permission Error"),description:e,disabled:!e}}case Z.il.DELETED:return{label:(0,g.t)("This file was deleted after the issue was processed.")};case Z.il.UNAPPLIED:return{label:t?(0,g.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,g.t)("This issue was processed before this debug information file was available")};default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate download status"))})),{}}}(t,n);return(0,I.tZ)(z.Z,{title:i&&(0,I.BX)($,{children:[(0,I.tZ)(X,{children:i}),a&&(0,I.tZ)("div",{children:a})]}),disabled:o,children:(0,I.tZ)(U,{"data-test-id":"status",status:s.status})})}P.displayName="StatusTooltip";const M=P,$=(0,i.Z)("div",{target:"e18y9fix1"})({name:"1flj9lk",styles:"text-align:left"}),X=(0,i.Z)("div",{target:"e18y9fix0"})("display:inline-block;margin-bottom:",(0,f.Z)(.25),";");var W=n("./app/components/acl/access.tsx"),K=n("./app/components/acl/role.tsx"),q=n("./app/components/actions/button.tsx"),G=n("./app/components/actions/menuItemActionLink.tsx"),J=n("./app/components/confirm.tsx"),Y=n("./app/components/dropdownLink.tsx"),H=n("./app/icons/index.tsx");const V=(0,g.t)("You do not have permission to download debug files"),Q=(0,g.t)("You do not have permission to delete debug files"),ee=(0,g.t)("Are you sure you wish to delete this file?");function te(e){let{candidate:t,organization:n,isInternalSource:s,baseUrl:i,projSlug:o,onDelete:r}=e;const{download:l,location:d}=t,{status:c}=l;if(!d||!s)return null;const u=c===Z.il.DELETED,p=`${i}/projects/${n.slug}/${o}/files/dsyms/?id=${d}`,h=(0,I.tZ)(K.u,{role:n.debugFilesRole,organization:n,children:e=>{let{hasRole:t}=e;return(0,I.tZ)(W.Z,{access:["project:write"],organization:n,children:e=>{let{hasAccess:n}=e;return(0,I.BX)(a.Fragment,{children:[(0,I.BX)(se,{caret:!1,customTitle:(0,I.tZ)(q.Z,{"aria-label":(0,g.t)("Actions"),disabled:u,icon:(0,I.tZ)(H.YR,{size:"sm"})}),anchorRight:!0,children:[(0,I.tZ)(z.Z,{disabled:t,title:V,children:(0,I.tZ)(G.Z,{shouldConfirm:!1,icon:(0,I.tZ)(H.Dj,{size:"xs"}),href:p,onClick:e=>{u&&e.preventDefault()},disabled:!t||u,children:(0,g.t)("Download")})}),(0,I.tZ)(z.Z,{disabled:n,title:Q,children:(0,I.tZ)(G.Z,{onAction:()=>r(d),message:ee,disabled:!n||u,shouldConfirm:!0,children:(0,g.t)("Delete")})})]}),(0,I.BX)(ie,{gap:1,children:[(0,I.tZ)(z.Z,{disabled:t,title:V,children:(0,I.tZ)(m.ZP,{size:"xs",icon:(0,I.tZ)(H.Dj,{size:"xs"}),href:p,disabled:!t,children:(0,g.t)("Download")})}),(0,I.tZ)(z.Z,{disabled:n,title:Q,children:(0,I.tZ)(J.Z,{confirmText:(0,g.t)("Delete"),message:ee,onConfirm:()=>r(d),disabled:!n,children:(0,I.tZ)(m.ZP,{priority:"danger",icon:(0,I.tZ)(H.Fz,{size:"xs"}),size:"xs",disabled:!n,"aria-label":(0,g.t)("Delete")})})})]})]})}})}});return u?(0,I.tZ)(z.Z,{title:(0,g.t)("Actions not available because this debug file was deleted"),children:h}):h}te.displayName="Actions";const ne=te,se=(0,i.Z)(Y.Z,{target:"e1bi06kf1"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){display:flex;align-items:center;transition:none;}"),ie=(0,i.Z)(h.ZP,{target:"e1bi06kf0"})("@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){display:none;}");var ae=n("../node_modules/lodash/capitalize.js"),oe=n.n(ae),re=n("../node_modules/moment-timezone/index.js"),le=n.n(re),de=n("./app/components/dateTime.tsx"),ce=n("./app/components/fileSize.tsx"),ue=n("./app/components/timeSince.tsx"),pe=n("./app/components/events/interfaces/debugMeta/processing/item.tsx"),me=n("./app/components/events/interfaces/debugMeta/processing/list.tsx");function he(){return(0,I.tZ)(fe,{children:"|"})}he.displayName="Divider";const ge=he,fe=(0,i.Z)("div",{target:"etzc1de0"})("color:",(e=>e.theme.gray200),";");function be(e){let{download:t}=e,n=[];return t.status!==Z.il.OK&&t.status!==Z.il.DELETED&&t.status!==Z.il.UNAPPLIED||(n=Object.keys(t.features).filter((e=>t.features[e]))),(0,I.tZ)(a.Fragment,{children:Object.keys(Z.xe).map((e=>{const{label:t,description:s}=function(e){switch(e){case Z.xe.has_debug_info:return{label:(0,g.t)("debug"),description:(0,g.t)("Debug information provides function names and resolves inlined frames during symbolication")};case Z.xe.has_sources:return{label:(0,g.t)("sources"),description:(0,g.t)("Source code information allows Sentry to display source code context for stack frames")};case Z.xe.has_symbols:return{label:(0,g.t)("symtab"),description:(0,g.t)("Symbol tables are used as a fallback when full debug information is not available")};case Z.xe.has_unwind_info:return{label:(0,g.t)("unwind"),description:(0,g.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),i=!n.includes(e);return(0,I.tZ)(ye,{disabled:i,tooltipText:i?void 0:s,children:t},t)}))})}be.displayName="Features";const Ze=be,ye=(0,i.Z)(j.Z,{target:"e1bcv2r60"})("opacity:",(e=>e.disabled?"0.35":1),";"),ve=function(e){let{processingInfo:t}=e;switch(t.status){case Z.kJ.OK:return(0,I.tZ)(H.DL,{color:"green300",size:"xs"});case Z.kJ.ERROR:{const{details:e}=t;return(0,I.tZ)(z.Z,{title:e,disabled:!e,children:(0,I.tZ)(H.bM,{color:"red300",size:"xs"})})}case Z.kJ.MALFORMED:{const{details:e}=t;return(0,I.tZ)(z.Z,{title:e,disabled:!e,children:(0,I.tZ)(H.FC,{color:"yellow300",size:"xs"})})}default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function we(e){let{candidate:t,isInternalSource:n,hasReprocessWarning:s,eventDateReceived:i}=e;const{source_name:o,source:r,location:l,download:d}=t,c=function(){if(t.download.status===Z.il.UNAPPLIED||t.download.status===Z.il.OK&&n){const{symbolType:e,filename:n}=t;return e===Z.Ko.PROGUARD&&"proguard-mapping"===n?null:n}return l&&!n?l:null}();return(0,I.BX)(Se,{children:[(0,I.BX)("div",{children:[(0,I.tZ)("strong",{"data-test-id":"source-name",children:o?oe()(o):(0,g.t)("Unknown")}),c&&(0,I.tZ)(De,{"data-test-id":"filename-or-location",children:c})]}),(0,I.BX)(_e,{children:[function(){if(t.download.status!==Z.il.UNAPPLIED&&t.download.status!==Z.il.OK||r!==A)return null;const{symbolType:e,fileType:n,cpuName:o,size:l,dateCreated:d}=t,{tooltipDesc:c,displayIcon:u}=function(e){const n=(0,I.tZ)(de.Z,{date:e});return t.download.status!==Z.il.UNAPPLIED?{tooltipDesc:n,displayIcon:!1}:le()(e).isBefore(i)?s?{tooltipDesc:(0,I.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:le()(i).from(e,!0)}),(0,I.tZ)(Te,{children:n})]}),displayIcon:!0}:le()(i).diff(e,"minutes")>=60?{tooltipDesc:n,displayIcon:!1}:{tooltipDesc:(0,I.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:le()(i).from(e,!0)}),(0,I.tZ)(Te,{children:n})]}),displayIcon:!0}:s?{tooltipDesc:(0,I.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:le()(e).from(i,!0)}),(0,I.tZ)(Te,{children:n})]}),displayIcon:!0}:{tooltipDesc:(0,I.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event.",{when:le()(i).from(e,!0)}),(0,I.tZ)(Te,{children:n})]}),displayIcon:!0}}(d);return(0,I.BX)(a.Fragment,{children:[(0,I.tZ)(z.Z,{title:c,children:(0,I.BX)(Ee,{children:[u&&(0,I.tZ)(H.FC,{color:"red300",size:"xs"}),(0,g._N)("Uploaded [timesince]",{timesince:(0,I.tZ)(ue.Z,{disabledAbsoluteTooltip:!0,date:d})})]})}),(0,I.tZ)(ge,{}),(0,I.tZ)(ce.Z,{bytes:l}),(0,I.tZ)(ge,{}),(0,I.tZ)("span",{children:e===Z.Ko.PROGUARD&&"any"===o?(0,g.t)("proguard mapping"):`${e}${n?` ${n}`:""}`}),(0,I.tZ)(ge,{})]})}(),function(){if(t.download.status!==Z.il.OK&&t.download.status!==Z.il.DELETED)return null;const e=[],{debug:n,unwind:s}=t;return n&&e.push((0,I.tZ)(pe.Z,{type:"symbolication",icon:(0,I.tZ)(ve,{processingInfo:n})},"symbolication")),s&&e.push((0,I.tZ)(pe.Z,{type:"stack_unwinding",icon:(0,I.tZ)(ve,{processingInfo:s})},"stack_unwinding")),e.length?(0,I.BX)(a.Fragment,{children:[(0,I.tZ)(ke,{items:e}),(0,I.tZ)(ge,{})]}):null}(),(0,I.tZ)(Ze,{download:d})]})]})}we.displayName="Information";const xe=we,Se=(0,i.Z)("div",{target:"e19vxbfv5"})({name:"2w899g",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%"}),De=(0,i.Z)("span",{target:"e19vxbfv4"})("padding-left:",(0,f.Z)(1),";font-size:",(e=>e.theme.fontSizeSmall),";"),_e=(0,i.Z)("div",{target:"e19vxbfv3"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.Z)(1),";color:",(e=>e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ee=(0,i.Z)("div",{target:"e19vxbfv2"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;gap:",(0,f.Z)(.5),";font-variant-numeric:tabular-nums;"),Te=(0,i.Z)("div",{target:"e19vxbfv1"})("padding-top:",(0,f.Z)(1),";font-variant-numeric:tabular-nums;"),ke=(0,i.Z)(me.Z,{target:"e19vxbfv0"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.Z)(1),";");function Be(e){let{candidate:t,organization:n,projSlug:s,baseUrl:i,haveCandidatesAtLeastOneAction:o,hasReprocessWarning:r,onDelete:l,eventDateReceived:d}=e;const{source:c}=t,u=c===A;return(0,I.BX)(a.Fragment,{children:[(0,I.tZ)(Fe,{children:(0,I.tZ)(M,{candidate:t,hasReprocessWarning:r})}),(0,I.tZ)(Ne,{children:(0,I.tZ)(xe,{candidate:t,isInternalSource:u,eventDateReceived:d,hasReprocessWarning:r})}),o&&(0,I.tZ)(Oe,{children:(0,I.tZ)(ne,{onDelete:l,baseUrl:i,projSlug:s,organization:n,candidate:t,isInternalSource:u})})]})}Be.displayName="Candidate";const Ce=Be,Fe=(0,i.Z)("div",{target:"e13xxgly2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Ne=(0,i.Z)(Fe,{target:"e13xxgly1"})({name:"1ejri1g",styles:"flex-direction:column;align-items:flex-start"}),Oe=(0,i.Z)(Fe,{target:"e13xxgly0"})({name:"1f60if8",styles:"justify-content:flex-end"}),Re={status:(0,g.t)("Status"),source:(0,g.t)("Source")};class je extends a.Component{constructor(){var e;super(...arguments),e=this,(0,s.Z)(this,"state",{searchTerm:"",filterOptions:[],filterSelections:[],filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,s.Z)(this,"doSearch",D()(this.filterCandidatesBySearch,300)),(0,s.Z)(this,"handleChangeSearchTerm",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchTerm:t})})),(0,s.Z)(this,"handleChangeFilter",(e=>{const{filteredCandidatesBySearch:t}=this.state,n=this.getFilteredCandidatedByFilter(t,e);this.setState({filterSelections:e,filteredCandidatesByFilter:n})})),(0,s.Z)(this,"handleResetFilter",(()=>{this.setState({filterSelections:[]},this.filterCandidatesBySearch)})),(0,s.Z)(this,"handleResetSearchBar",(()=>{const{candidates:e}=this.props;this.setState({searchTerm:"",filteredCandidatesByFilter:e,filteredCandidatesBySearch:e})}))}componentDidMount(){this.getFilters()}componentDidUpdate(e,t){E()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}filterCandidatesBySearch(){const{searchTerm:e,filterSelections:t}=this.state,{candidates:n}=this.props;if(!e.trim()){const e=this.getFilteredCandidatedByFilter(n,t);return void this.setState({filteredCandidatesBySearch:n,filteredCandidatesByFilter:e})}const s=JSON.stringify(e).replace(/((^")|("$))/g,"").toLocaleLowerCase(),i=n.filter((e=>Object.keys(k()(e,["source_name","location"])).some((t=>{const n=e[t];return("location"!==t||"number"!=typeof Number(n))&&!(!(0,N.ri)(n)||!String(n).trim())&&JSON.stringify(n).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(s)})))),a=this.getFilteredCandidatedByFilter(i,t);this.setState({filteredCandidatesBySearch:i,filteredCandidatesByFilter:a})}getFilters(){var e,t;const{imageStatus:n}=this.props,s=[...this.props.candidates],i=this.getFilterOptions(s),a=(null!==(e=null===(t=i.find((e=>"status"===e.value)))||void 0===t?void 0:t.options)&&void 0!==e?e:[]).filter((e=>e.value!==`status-${Z.il.NOT_FOUND}`||n===Z.zu.MISSING));this.setState({filterOptions:i,filterSelections:a,filteredCandidatesBySearch:s,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(s,a)})}getFilterOptions(e){const t=[],n=[...new Set(e.map((e=>e.download.status)))];n.length>1&&t.push({value:"status",label:Re.status,options:n.map((e=>({value:`status-${e}`,label:(0,I.tZ)(U,{status:e})})))});const s=[...new Set(e.map((e=>{var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,g.t)("Unknown")})))];return s.length>1&&t.push({value:"source",label:Re.source,options:s.map((e=>({value:`source-${e}`,label:e})))}),t}getFilteredCandidatedByFilter(e,t){const n=new Set(t.filter((e=>"status"===e.value.split("-")[0])).map((e=>e.value.split("-")[1]))),s=new Set(t.filter((e=>"source"===e.value.split("-")[0])).map((e=>e.value.split("-")[1])));if(0===t.length)return e;if(n.size>0){const t=e.filter((e=>n.has(e.download.status)));return 0===s.size?t:t.filter((e=>{var t;return s.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((e=>{var t;return s.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}getEmptyMessage(){const{searchTerm:e,filteredCandidatesByFilter:t,filterSelections:n}=this.state;if(t.length)return{};const s=n.length>0;return e||s?{emptyMessage:(0,g.t)("Sorry, no debug files match your search query"),emptyAction:s?(0,I.tZ)(m.ZP,{onClick:this.handleResetFilter,priority:"primary",children:(0,g.t)("Reset filter")}):(0,I.tZ)(m.ZP,{onClick:this.handleResetSearchBar,priority:"primary",children:(0,g.t)("Clear search bar")})}:{emptyMessage:(0,g.t)("There are no debug files to be displayed")}}render(){const{organization:e,projSlug:t,baseUrl:n,onDelete:s,isLoading:i,candidates:a,eventDateReceived:o,hasReprocessWarning:r}=this.props,{searchTerm:l,filterOptions:d,filterSelections:c,filteredCandidatesByFilter:u}=this.state,p=a.some((e=>e.download.status===Z.il.OK&&e.source===A||e.download.status===Z.il.DELETED))||r;return(0,I.BX)(Ue,{children:[(0,I.BX)(Ae,{children:[(0,I.BX)(Le,{children:[(0,g.t)("Debug File Candidates"),(0,I.tZ)(F.Z,{title:(0,g._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,I.tZ)(B.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})]}),!!a.length&&(0,I.tZ)(Pe,{query:l,onChange:e=>this.handleChangeSearchTerm(e),placeholder:(0,g.t)("Search debug file candidates"),filterOptions:d,filterSelections:c,onFilterChange:this.handleChangeFilter})]}),(0,I.tZ)(ze,{headers:p?[(0,g.t)("Status"),(0,g.t)("Information"),""]:[(0,g.t)("Status"),(0,g.t)("Information")],isEmpty:!u.length,isLoading:i,...this.getEmptyMessage(),children:u.map(((i,a)=>(0,I.tZ)(Ce,{candidate:i,organization:e,baseUrl:n,projSlug:t,eventDateReceived:o,hasReprocessWarning:r,haveCandidatesAtLeastOneAction:p,onDelete:s},a)))})]})}}je.displayName="Candidates";const Ie=je,Ue=(0,i.Z)("div",{target:"e13bc14a4"})({name:"vetbs0",styles:"display:grid"}),Ae=(0,i.Z)("div",{target:"e13bc14a3"})("display:flex;flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex-wrap:wrap;flex-direction:row;}"),Le=(0,i.Z)("div",{target:"e13bc14a2"})("padding-right:",(0,f.Z)(4),";display:grid;gap:",(0,f.Z)(.5),";grid-template-columns:repeat(2, max-content);align-items:center;font-weight:600;color:",(e=>e.theme.gray400),";height:32px;flex:1;@media (min-width: ",(e=>e.theme.breakpoints.small),"){margin-bottom:",(0,f.Z)(1),";}"),ze=(0,i.Z)(C.Z,{target:"e13bc14a1"})("grid-template-columns:",(e=>3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"),";height:100%;@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){overflow:visible;}"),Pe=(0,i.Z)(O.Z,{target:"e13bc14a0"})("margin-bottom:",(0,f.Z)(1.5),";");var Me=n("./app/components/notAvailable.tsx"),$e=n("./app/components/events/interfaces/debugMeta/debugImage/processings.tsx");function Xe(e){let{image:t}=e;const{debug_id:n,debug_file:s,code_id:i,code_file:a,arch:o,unwind_status:r,debug_status:l}=null!=t?t:{},d=t?(0,x.a$)(t):void 0;return(0,I.BX)(Ke,{children:[(0,I.tZ)(qe,{coloredBg:!0,children:(0,g.t)("Address Range")}),(0,I.tZ)(Ge,{coloredBg:!0,children:null!=d?d:(0,I.tZ)(Me.Z,{})}),(0,I.tZ)(qe,{children:(0,g.t)("Debug ID")}),(0,I.tZ)(Ge,{children:null!=n?n:(0,I.tZ)(Me.Z,{})}),(0,I.tZ)(qe,{coloredBg:!0,children:(0,g.t)("Debug File")}),(0,I.tZ)(Ge,{coloredBg:!0,children:null!=s?s:(0,I.tZ)(Me.Z,{})}),(0,I.tZ)(qe,{children:(0,g.t)("Code ID")}),(0,I.tZ)(Ge,{children:null!=i?i:(0,I.tZ)(Me.Z,{})}),(0,I.tZ)(qe,{coloredBg:!0,children:(0,g.t)("Code File")}),(0,I.tZ)(Ge,{coloredBg:!0,children:null!=a?a:(0,I.tZ)(Me.Z,{})}),(0,I.tZ)(qe,{children:(0,g.t)("Architecture")}),(0,I.tZ)(Ge,{children:null!=o?o:(0,I.tZ)(Me.Z,{})}),(0,I.tZ)(qe,{coloredBg:!0,children:(0,g.t)("Processing")}),(0,I.tZ)(Ge,{coloredBg:!0,children:r||l?(0,I.tZ)($e.Z,{unwind_status:r,debug_status:l}):(0,I.tZ)(Me.Z,{})})]})}Xe.displayName="GeneralInfo";const We=Xe,Ke=(0,i.Z)("div",{target:"ef0syc72"})({name:"24qvpm",styles:"display:grid;grid-template-columns:max-content 1fr"}),qe=(0,i.Z)("div",{target:"ef0syc71"})("color:",(e=>e.theme.textColor),";padding:",(0,f.Z)(1)," ",(0,f.Z)(1.5)," ",(0,f.Z)(1)," ",(0,f.Z)(1),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),Ge=(0,i.Z)(qe,{target:"ef0syc70"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,f.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";");var Je,Ye=n("./app/components/alert.tsx"),He=n("./app/components/alertLink.tsx");function Ve(e){let{onReprocessEvent:t,api:n,orgSlug:s,projSlug:i,eventId:o}=e;const[r,l]=(0,a.useState)(),d=(0,a.useCallback)((async()=>{try{const e=await n.requestPromise(`/projects/${s}/${i}/events/${o}/reprocessable/`);l(e)}catch{}}),[n,o,s,i]);if((0,a.useEffect)((()=>{d()}),[d]),!r)return null;const{reprocessable:c,reason:u}=r;return c?(0,I.tZ)(He.Z,{priority:"warning",size:"small",onClick:t,withoutMarginBottom:!0,children:(0,g.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")}):(0,I.tZ)(et,{type:"info",children:function(){switch(u){case Je.EVENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because the event has not been found");case Je.ATTACHMENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because a required attachment is missing");case Je.UNPROCESSED_EVENT_NOT_FOUND:default:return(0,g.t)("This event cannot be reprocessed")}}()})}!function(e){e.UNPROCESSED_EVENT_NOT_FOUND="unprocessed_event.not_found",e.EVENT_NOT_FOUND="event.not_found",e.ATTACHMENT_NOT_FOUND="attachment.not_found"}(Je||(Je={})),Ve.displayName="ReprocessAlert";const Qe=Ve,et=(0,i.Z)(Ye.Z,{target:"eveg1ko0"})({name:"1ykowef",styles:"margin-bottom:0"});class tt extends p.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleDelete",(async e=>{const{organization:t,projSlug:n}=this.props;this.setState({loading:!0});try{await this.api.requestPromise(`/projects/${t.slug}/${n}/files/dsyms/?id=${e}`,{method:"DELETE"}),this.fetchData()}catch{(0,u.Iw)((0,g.t)("An error occurred while deleting the debug file.")),this.setState({loading:!1})}}))}getDefaultState(){return{...super.getDefaultState(),debugFiles:[]}}componentDidUpdate(e,t){!e.image&&this.props.image&&this.remountComponent(),super.componentDidUpdate(e,t)}getUplodedDebugFiles(e){return e.find((e=>e.source===A))}getEndpoints(){const{organization:e,projSlug:t,image:n}=this.props;if(!n)return[];const{debug_id:s,candidates:i=[]}=n,a=[];return this.getUplodedDebugFiles(i)&&a.push(["debugFiles",`/projects/${e.slug}/${t}/files/dsyms/?debug_id=${s}`,{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle"]}}]),a}sortCandidates(e,t){const[n,s]=l()(e,(e=>e.download.status===Z.il.NO_PERMISSION)),[i,a]=l()(s,(e=>e.download.status===Z.il.MALFORMED)),[o,r]=l()(a,(e=>e.download.status===Z.il.ERROR)),[d,u]=l()(r,(e=>e.download.status===Z.il.OK)),[p,m]=l()(u,(e=>e.download.status===Z.il.DELETED));return[...c()(n,["source_name","location"]),...c()(i,["source_name","location"]),...c()(o,["source_name","location"]),...c()(d,["source_name","location"]),...c()(p,["source_name","location"]),...c()(t,["source_name","location"]),...c()(m,["source_name","location"])]}getCandidates(){const{debugFiles:e,loading:t}=this.state,{image:n}=this.props,{candidates:s=[]}=null!=n?n:{};if(!e||t)return s;const i=s.map((e=>{let{location:t,...n}=e;return{...n,location:null!=t&&t.includes(L)?t.split(L)[1]:t}})),a=new Set(i.map((e=>{let{location:t}=e;return t})).filter((e=>!!e))),[o,r]=l()(e,(e=>!a.has(e.id))),d=o.map((e=>{var t;const{data:n,symbolType:s,objectName:i,id:a,size:o,dateCreated:r,cpuName:l}=e,d=null!==(t=null==n?void 0:n.features)&&void 0!==t?t:[];return{download:{status:Z.il.UNAPPLIED,features:{has_sources:d.includes(b.Wi.SOURCES),has_debug_info:d.includes(b.Wi.DEBUG),has_unwind_info:d.includes(b.Wi.UNWIND),has_symbols:d.includes(b.Wi.SYMTAB)}},cpuName:l,location:a,filename:i,size:o,dateCreated:r,symbolType:s,fileType:(0,w.J)(e),source:A,source_name:(0,g.t)("Sentry")}})),[c,u]=l()(i,(e=>e.download.status===Z.il.OK&&e.source===A)),p=c.map((e=>{const t=r.find((t=>t.id===e.location));if(!t)return{...e,download:{...e.download,status:Z.il.DELETED}};const{symbolType:n,objectName:s,id:i,size:a,dateCreated:o,cpuName:l}=t;return{...e,cpuName:l,location:i,filename:s,size:a,dateCreated:o,symbolType:n,fileType:(0,w.J)(t)}}));return this.sortCandidates([...p,...u],d)}getDebugFilesSettingsLink(){const{organization:e,projSlug:t,image:n}=this.props,s=e.slug,i=null==n?void 0:n.debug_id;if(s&&t&&i)return`/settings/${s}/projects/${t}/debug-symbols/?query=${i}`}renderBody(){const{Header:e,Body:t,Footer:n,image:s,organization:i,projSlug:o,event:r,onReprocessEvent:l}=this.props,{loading:d}=this.state,{code_file:c,status:u}=null!=s?s:{},p=this.getDebugFilesSettingsLink(),h=this.getCandidates(),f=this.api.baseUrl,b=(0,x.UO)(c),v=h.some((e=>e.download.status===Z.il.UNAPPLIED))&&(0,y.B)(i.features,r)&&!!l;return(0,I.BX)(a.Fragment,{children:[(0,I.tZ)(e,{closeButton:!0,children:(0,I.BX)(st,{children:[(0,g.t)("Image"),(0,I.tZ)(it,{children:null!=b?b:(0,g.t)("Unknown")})]})}),(0,I.tZ)(t,{children:(0,I.BX)(nt,{children:[(0,I.tZ)(We,{image:s}),v&&(0,I.tZ)(Qe,{api:this.api,orgSlug:i.slug,projSlug:o,eventId:r.id,onReprocessEvent:l}),(0,I.tZ)(Ie,{imageStatus:u,candidates:h,organization:i,projSlug:o,baseUrl:f,isLoading:d,eventDateReceived:r.dateReceived,onDelete:this.handleDelete,hasReprocessWarning:v})]})}),(0,I.tZ)(n,{children:(0,I.BX)(at,{gap:1,children:[(0,I.tZ)(m.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0,children:(0,g.t)("Read the docs")}),p&&(0,I.tZ)(m.ZP,{title:(0,g.t)("Search for this debug file in all images for the %s project",o),to:p,children:(0,g.t)("Open in Settings")})]})})]})}}const nt=(0,i.Z)("div",{target:"e1k6huf23"})("display:grid;gap:",(0,f.Z)(3),";font-size:",(e=>e.theme.fontSizeMedium),";"),st=(0,i.Z)("div",{target:"e1k6huf22"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,f.Z)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeExtraLarge),";max-width:calc(100% - 40px);word-break:break-all;"),it=(0,i.Z)("span",{target:"e1k6huf21"})("font-family:",(e=>e.theme.text.familyMono),";"),at=(0,i.Z)(h.ZP,{target:"e1k6huf20"})({name:"1bmnxg7",styles:"white-space:nowrap"}),ot=(0,o.iv)("[role='document']{overflow:initial;}@media (min-width: ",v.ZP.breakpoints.small,"){width:90%;}@media (min-width: ",v.ZP.breakpoints.xlarge,"){width:70%;}@media (min-width: ",v.ZP.breakpoints.xxlarge,"){width:50%;}","")},"./app/types/debugFiles.tsx":(e,t,n)=>{let s,i,a;n.d(t,{BQ:()=>s,Et:()=>a,Wi:()=>i}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(s||(s={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(i||(i={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(a||(a={}))},"./app/utils/displayReprocessEventAction.tsx":(e,t,n)=>{n.d(t,{B:()=>o}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js");var s=n("./app/types/index.tsx");const i=["cocoa","native"];function a(e){var t,n,s;const i=null!==(t=null==e?void 0:e.frames)&&void 0!==t?t:[],a=null!==(n=null==e||null===(s=e.stacktrace)||void 0===s?void 0:s.frames)&&void 0!==n?n:[];return i.length||a.length?[...i,...a].map((e=>e.platform)).filter((e=>!!e)):[]}function o(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:n}=t,o=n.find((e=>e.type===s.UZ.EXCEPTION));return!!o&&!!(function(e){var t;const{data:n}=e;return(null!==(t=n.values)&&void 0!==t?t:[]).some((e=>{var t;return"minidump"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(o)||function(e){var t;const{data:n}=e;return(null!==(t=n.values)&&void 0!==t?t:[]).some((e=>{var t;return"applecrashreport"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(o)||function(e,t){const{platform:n}=e;if(n&&i.includes(n))return!0;const o=function(e,t){var n,i,o,r,l;const d=(null!==(n=t.data.values)&&void 0!==n?n:[]).flatMap(a),c=null!==(i=null===(o=e.entries.find((e=>e.type===s.UZ.STACKTRACE)))||void 0===o?void 0:o.data)&&void 0!==i?i:{},u=Object.keys(c).flatMap((e=>a(c[e]))),p=(null!==(r=null===(l=e.entries.find((e=>e.type===s.UZ.THREADS)))||void 0===l?void 0:l.data.values)&&void 0!==r?r:[]).flatMap((e=>{let{stacktrace:t}=e;return a(t)}));return new Set([...d,...u,...p])}(e,t);return i.some((e=>o.has(e)))}(t,o))}},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,n)=>{n.d(t,{J:()=>a,V:()=>o});var s=n("./app/locale.tsx"),i=n("./app/types/debugFiles.tsx");function a(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case i.BQ.EXE:return(0,s.t)("executable");case i.BQ.DBG:return(0,s.t)("debug companion");case i.BQ.LIB:return(0,s.t)("dynamic library");default:return null}}function o(e){switch(e){case i.Wi.SYMTAB:return(0,s.t)("Symbol tables are used as a fallback when full debug information is not available");case i.Wi.DEBUG:return(0,s.t)("Debug information provides function names and resolves inlined frames during symbolication");case i.Wi.UNWIND:return(0,s.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case i.Wi.SOURCES:return(0,s.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_debugMeta_debugImageDetails_index_tsx.5718e2e7fdb93cd1b05c8a67712b9f25.js.map