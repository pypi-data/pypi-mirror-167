(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_widgetViewerModal_tsx-node_modules_core-js_modules_es_string_match-all_-acd5d9"],{"./app/components/gridEditable/sortLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react-router/es/index.js")),o=s("../node_modules/lodash/omit.js"),a=s.n(o),r=s("./app/components/links/link.tsx"),l=s("./app/icons/index.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{align:t,title:s,canSort:i,generateSortLink:o,onClick:a,direction:r,replace:l}=e;const u=o();if(!u||!i)return(0,d.tZ)(p,{align:t,children:s});const m=r?(0,d.tZ)(g,{size:"xs",direction:"desc"===r?"down":"up"}):null;return(0,d.BX)(c,{align:t,to:u,onClick:e=>{l&&(e.preventDefault(),n.browserHistory.replace(u)),null==a||a(e)},children:[s," ",m]})}u.displayName="SortLink";const c=(0,i.Z)((e=>{const t=a()(e,["align","css"]);return(0,d.tZ)(r.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,i.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),g=(0,i.Z)(l.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),m=u},"./app/components/modals/widgetViewerModal.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Ee,modalCss:()=>_e});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/react-select/dist/index-4322c0ed.browser.esm.js"),r=s("../node_modules/@sentry/hub/esm/exports.js"),l=s("../node_modules/@sentry/utils/esm/string.js"),d=s("../node_modules/lodash/cloneDeep.js"),u=s.n(d),c=s("../node_modules/lodash/isEqual.js"),p=s.n(c),g=s("../node_modules/lodash/trimStart.js"),m=s.n(g),y=s("../node_modules/moment/moment.js"),h=s.n(y),v=s("./app/actionCreators/events.tsx"),w=s("./app/components/alert.tsx"),_=s("./app/components/button.tsx"),b=s("./app/components/buttonBar.tsx"),x=s("./app/components/forms/selectControl.tsx"),f=s("./app/components/forms/selectOption.tsx"),j=s("./app/components/gridEditable/index.tsx"),Z=s("./app/components/pagination.tsx"),R=s("./app/components/questionTooltip.tsx"),E=s("./app/components/searchSyntax/parser.tsx"),T=s("./app/components/searchSyntax/renderer.tsx"),S=s("./app/locale.tsx"),O=s("./app/styles/space.tsx"),k=s("./app/utils.tsx"),C=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),q=s("./app/utils/dates.tsx"),L=s("./app/utils/discover/fields.tsx"),I=s("./app/utils/parseLinkHeader.tsx"),A=s("./app/utils/performance/contexts/metricsCardinality.tsx"),z=s("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),B=s("./app/utils/queryString.tsx"),D=s("./app/utils/useApi.tsx"),P=s("./app/utils/withPageFilters.tsx"),F=s("./app/views/dashboardsV2/types.tsx"),V=s("./app/views/dashboardsV2/utils.tsx"),N=s("./app/views/dashboardsV2/widgetCard/chart.tsx"),M=s("./app/views/dashboardsV2/widgetCard/dashboardsMEPContext.tsx"),G=s("./app/views/dashboardsV2/widgetCard/issueWidgetQueries.tsx"),H=s("./app/views/dashboardsV2/widgetCard/releaseWidgetQueries.tsx"),U=s("./app/views/dashboardsV2/widgetCard/widgetCardChartContainer.tsx"),X=s("./app/views/dashboardsV2/widgetCard/widgetQueries.tsx"),Q=s("./app/views/eventsV2/utils.tsx"),$=s("./app/views/organizationContext.tsx"),W=s("./app/views/performance/landing/metricsDataSwitcher.tsx"),Y=s("./app/components/modals/widgetViewerModal/utils.tsx"),J=s("./app/components/gridEditable/sortLink.tsx"),K=(s("./app/components/links/link.tsx"),s("./app/components/tooltip.tsx")),ee=s("./app/utils/dashboards/issueFieldRenderers.tsx"),te=s("./app/utils/discover/eventView.tsx"),se=s("./app/utils/discover/fieldRenderers.tsx"),ie=(s("./app/utils/discover/urls.tsx"),s("./app/views/dashboardsV2/widgetBuilder/issueWidget/fields.tsx")),ne=s("./app/views/eventsV2/table/topResultsIndicator.tsx"),oe=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const ae=e=>{let{location:t,widget:s,tableData:i,organization:n,onHeaderClick:o}=e;return(e,a)=>{const r=null==i?void 0:i.meta,l=(0,L.qG)(e.name,e.type,r),d=(0,ee.N)(String(e.key));return(0,oe.tZ)(J.Z,{align:l,title:(0,oe.tZ)(ue,{title:e.name,children:e.name}),direction:s.queries[0].orderby===d?"desc":void 0,canSort:!!d,generateSortLink:()=>({...t,query:{...t.query,[Y.R.SORT]:d,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}),onClick:()=>{null==o||o(),(0,C.Z)("dashboards_views.widget_viewer.sort",{organization:n,widget_type:F.l9.ISSUE,display_type:s.displayType,column:e.name,order:"desc"})}})}},re=e=>{let{location:t,selection:s,widget:i,tableData:n,organization:o,onHeaderClick:a,isMetricsData:r}=e;return(e,l)=>{const{orderby:d}=i.queries[0],u=`${d.startsWith("-")?"-":""}${(0,L.LY)(m()(d,"-"))}`,c=(0,V.tT)(i.title,{...i.queries[0],orderby:u},s,i.displayType),p=null==n?void 0:n.meta,g=(0,L.qG)(e.name,e.type,p),y={field:String(e.key),width:e.width},h=c.sortForField(y,p),v=!(r&&"title"===y.field)&&(0,te.M3)(y,p),w=(0,L.uI)(e.name)?c.getEquations()[(0,L.G5)(e.name)]:e.name;return(0,oe.tZ)(J.Z,{align:g,title:(0,oe.tZ)(ue,{title:w,children:w}),direction:h?h.kind:void 0,canSort:v,generateSortLink:function(){if(!p)return;const e=c.sortOnField(y,p,void 0,!0).generateQueryStringObject();return{...t,query:{...t.query,[Y.R.SORT]:e.sort,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}},onClick:()=>{null==a||a(),(0,C.Z)("dashboards_views.widget_viewer.sort",{organization:o,widget_type:F.l9.DISCOVER,display_type:i.displayType,column:e.name,order:"desc"===(null==h?void 0:h.kind)?"asc":"desc"})}})}},le=e=>{let{location:t,organization:s,widget:i,tableData:o,isFirstPage:a}=e;return(e,r,l,d)=>{var u,c;const p=String(e.key),g=i.displayType===F.FO.TOP_N;let m;const y=!s.features.includes("discover-frontend-use-events-endpoint")&&i.widgetType!==F.l9.RELEASE;switch(i.widgetType){case F.l9.ISSUE:m=(null!==(u=(0,ee.O)(p))&&void 0!==u?u:(0,se.Js)(p,ie.$L))(r,{organization:s,location:t});break;case F.l9.DISCOVER:default:if(!o||!o.meta)return r[e.key];const i=null===(c=o.meta.units)||void 0===c?void 0:c[e.key];m=(0,se.Js)(p,o.meta,y)(r,{organization:s,location:t,unit:i});const n=(0,L.LY)(p),a=r[n];if("integer"===o.meta[n]&&(0,k.ri)(a)&&a>999)return(0,oe.tZ)(K.Z,{title:a.toLocaleString(),containerDisplayMode:"block",position:"right",children:m})}const h=o?Math.min(null==o?void 0:o.data.length,5):5;return(0,oe.BX)(n.Fragment,{children:[g&&a&&l<5&&0===d?(0,oe.tZ)(ne.Z,{count:h,index:l}):null,m]})}},de=e=>{let{location:t,widget:s,tableData:i,organization:n,onHeaderClick:o}=e;return(e,a)=>{const r=null==i?void 0:i.meta,l=(0,L.qG)(e.name,e.type,r),d=s.queries[0].orderby,u={kind:d.startsWith("-")?"desc":"asc",field:d.startsWith("-")?d.slice(1):d},c=(0,L.h1)(e.name),p=e.name;return(0,oe.tZ)(J.Z,{align:l,title:(0,oe.tZ)(ue,{title:p,children:p}),direction:u.field===e.name?u.kind:void 0,canSort:c,generateSortLink:function(){const s=e.name===u.field?{...u,kind:"desc"===u.kind?"asc":"desc"}:{kind:"desc",field:e.name};return{...t,query:{...t.query,[Y.R.SORT]:"desc"===s.kind?`-${s.field}`:s.field,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}},onClick:()=>{null==o||o(),(0,C.Z)("dashboards_views.widget_viewer.sort",{organization:n,widget_type:F.l9.RELEASE,display_type:s.displayType,column:e.name,order:"desc"===(null==u?void 0:u.kind)?"asc":"desc"})}})}},ue=(0,i.Z)(K.Z,{target:"e1fqlj201"})({name:"168giuu",styles:"display:initial"}),ce="geo.country_code",pe="(Empty Query Condition)",ge=(e,t)=>{const s=t.selection===e.selection,i=t.location.query[Y.R.SORT]===e.location.query[Y.R.SORT],n=p()(t.chartZoomOptions,e.chartZoomOptions),o=t.widget.displayType!==F.FO.TOP_N&&!(0,k.ri)(t.widget.limit);return s&&n&&(i||o)},me=(0,n.memo)(U.b,ge),ye=(0,n.memo)(N.Z,ge);function he(e){var t,s;const{organization:i,widget:o,selection:d,location:c,Footer:p,Body:g,Header:y,closeModal:R,onEdit:P,router:U,routes:J,params:K,seriesData:ee,tableData:te,totalIssuesCount:se,pageLinks:ie,seriesResultsType:ne}=e,ue=i.features.includes("widget-viewer-modal-minimap"),ge=(0,B.ro)(c.query[Y.R.START]),he=(0,B.ro)(c.query[Y.R.END]),_e=o.displayType===F.FO.TABLE,Ee=(0,n.useMemo)((()=>ge&&he?{...d,datetime:{start:ge,end:he,period:null,utc:null}}:d),[ge,he,d]),[Te,Se]=(0,n.useState)(!0),[Oe,ke]=(0,n.useState)({start:0,end:100}),[Ce,qe]=(0,n.useState)(Ee),Le=(0,n.useRef)(Ce);(0,n.useEffect)((()=>{"POP"===c.action&&(qe(Ee),ke(ge&&he?{startValue:1e3*h().utc(ge).unix(),endValue:1e3*h().utc(he).unix()}:{start:0,end:100}))}),[he,c,Ee,ge]);const[Ie,Ae]=(0,n.useState)((0,B.qP)(c.query[Y.R.LEGEND]).reduce(((e,t)=>(e[t]=!1,e)),{})),[ze,Be]=(0,n.useState)(),De=null!==(t=(0,B._q)(c.query[Y.R.QUERY]))&&void 0!==t?t:0,Pe=null!==(s=(0,B._q)(c.query[Y.R.PAGE]))&&void 0!==s?s:0,Fe=(0,B.ro)(c.query[Y.R.CURSOR]),Ve=(0,B.qP)(c.query[Y.R.WIDTH]),Ne=(0,B.ro)(c.query[Y.R.SORT]),Me=u()(Ne?o.queries.map((e=>({...e,orderby:Ne}))):o.queries),Ge=o.displayType===F.FO.TOP_N||void 0!==o.limit?{...o,queries:Me}:o,He=(0,D.Z)(),Ue={...u()({...o,queries:[Me[De]]}),displayType:F.FO.TABLE},{aggregates:Xe,columns:Qe}=Ue.queries[0],{orderby:$e}=o.queries[0],We=$e.startsWith("-"),Ye=m()($e,"-"),Je=(0,k.ri)(Ue.queries[0].fields)?Ue.queries[0].fields:[...Qe,...Xe];o.widgetType!==F.l9.DISCOVER||!$e||(0,L.uI)(Ye)||Je.includes(Ye)||(Je.push(Ye),[Ue,Ge].forEach((e=>{(0,L.h1)(Ye)||(0,L.GO)(Ye)?e.queries.forEach((e=>{e.aggregates.includes(Ye)||e.aggregates.push(Ye)})):e.queries.forEach((e=>{e.columns.includes(Ye)||e.columns.push(Ye)}))}))),(0,L.GO)(Ye)&&Ue.queries[0].orderby===$e&&(Ue.queries[0].orderby=`${We?"-":""}equation[${(0,V.yd)(Je)-1}]`),o.displayType!==F.FO.WORLD_MAP||Qe.includes(ce)||(Je.unshift(ce),Qe.unshift(ce));const Ke=[F.FO.AREA,F.FO.LINE,F.FO.BIG_NUMBER,F.FO.BAR].includes(o.displayType)&&o.widgetType&&[F.l9.DISCOVER,F.l9.RELEASE].includes(o.widgetType)&&!(0,k.ri)(o.limit);if(_e||(0,V.Mf)(Je).forEach((e=>{(0,L.h1)(e)&&!Xe.includes(e)&&Xe.unshift(e),(0,L.h1)(e)||Qe.includes(e)||Qe.unshift(e)})),Qe.forEach((e=>{Je.includes(e)||Je.unshift(e)})),Ke)switch(o.widgetType){case F.l9.DISCOVER:1===Je.length&&(Ue.queries[0].orderby=Ue.queries[0].orderby||`-${Je[0]}`),Je.unshift("title"),Qe.unshift("title");break;case F.l9.RELEASE:Je.unshift("release"),Qe.unshift("release")}const et=(0,V.tT)(Ue.title,Ue.queries[0],Ce,Ue.displayType);let tt=(0,Q.Hg)(Je.map((e=>({field:e}))),i.features.includes("discover-frontend-use-events-endpoint"));const st=et.getSorts();tt=tt.map(((e,t)=>({...e,width:parseInt(Ve[t],10)||-1})));const it=Me.map(((e,t)=>{let{name:s,conditions:i}=e;const n=!s&&i?(0,E.UG)(i):null;return{label:(0,l.$G)(s||i,120),value:t,getHighlightedQuery:e=>null!==n?(0,oe.tZ)(je,{...e,children:(0,oe.tZ)(T.Z,{parsedQuery:n})}):void 0}})),nt=(e,t)=>{const s=t.width?Number(t.width):j.z7,i=new Array(Math.max(e,Ve.length)).fill(j.z7);Ve.forEach(((e,t)=>i[t]=parseInt(e,10))),i[e]=s,U.replace({pathname:c.pathname,query:{...c.query,[Y.R.WIDTH]:i}})};function ot(e){var t;let{selected:s}=e;Ae(s),U.replace({pathname:c.pathname,query:{...c.query,[Y.R.LEGEND]:Object.keys(s).filter((e=>!s[e]))}}),(0,C.Z)("dashboards_views.widget_viewer.toggle_legend",{organization:i,widget_type:null!==(t=o.widgetType)&&void 0!==t?t:F.l9.DISCOVER,display_type:o.displayType})}function at(t){var s,a,r,l,d;let{tableResults:u,loading:p,pageLinks:g}=t;const{isMetricsData:m}=(0,M.XA)(),y=(0,I.Z)(null!=g?g:null),h=!1===(null===(s=y.previous)||void 0===s?void 0:s.results);return(0,oe.BX)(n.Fragment,{children:[(0,oe.tZ)(j.ZP,{isLoading:p,data:null!==(a=null==u||null===(r=u[0])||void 0===r?void 0:r.data)&&void 0!==a?a:[],columnOrder:tt,columnSortBy:st,grid:{renderHeadCell:re({...e,widget:Ue,tableData:null==u?void 0:u[0],onHeaderClick:()=>{([F.FO.TOP_N,F.FO.TABLE].includes(o.displayType)||(0,k.ri)(o.limit))&&Se(!1)},isMetricsData:m}),renderBodyCell:le({...e,tableData:null==u?void 0:u[0],isFirstPage:h}),onResizeColumn:nt},location:c}),((null==y||null===(l=y.previous)||void 0===l?void 0:l.results)||(null==y||null===(d=y.next)||void 0===d?void 0:d.results))&&(0,oe.tZ)(Z.Z,{pageLinks:g,onCursor:e=>{U.replace({pathname:c.pathname,query:{...c.query,[Y.R.CURSOR]:e}}),o.displayType===F.FO.TABLE&&Se(!1),(0,C.Z)("dashboards_views.widget_viewer.paginate",{organization:i,widget_type:F.l9.DISCOVER,display_type:o.displayType})}})]})}(0,n.useEffect)((()=>{(async()=>{o.widgetType===F.l9.DISCOVER&&Be(await async function(e,t,s,i){if(i.isValid())try{return(await(0,v.JE)(e,t.slug,i.getEventsAPIPayload(s))).toLocaleString()}catch(e){return void r.Tb(e)}}(He,i,c,et))})()}),[De]);const rt=e=>{var t,s,a,r;let{tableResults:l,loading:u,pageLinks:p,totalCount:g}=e;void 0===ze&&g&&Be(g);const m=(0,I.Z)(null!=p?p:null);return(0,oe.BX)(n.Fragment,{children:[(0,oe.tZ)(j.ZP,{isLoading:u,data:null!==(t=null==l||null===(s=l[0])||void 0===s?void 0:s.data)&&void 0!==t?t:[],columnOrder:tt,columnSortBy:st,grid:{renderHeadCell:ae({location:c,organization:i,selection:d,widget:Ue,onHeaderClick:()=>{Se(!1)}}),renderBodyCell:le({location:c,organization:i,selection:d,widget:Ue}),onResizeColumn:nt},location:c}),((null==m||null===(a=m.previous)||void 0===a?void 0:a.results)||(null==m||null===(r=m.next)||void 0===r?void 0:r.results))&&(0,oe.tZ)(Z.Z,{pageLinks:p,onCursor:(e,t,s,n)=>{let a=isNaN(Pe)?n:Pe+n,r=e;a<=0&&(r=void 0,a=0),U.replace({pathname:c.pathname,query:{...c.query,[Y.R.CURSOR]:r,[Y.R.PAGE]:a}}),o.displayType===F.FO.TABLE&&Se(!1),(0,C.Z)("dashboards_views.widget_viewer.paginate",{organization:i,widget_type:F.l9.ISSUE,display_type:o.displayType})}})]})},lt=t=>{var s,a,r,l,d;let{tableResults:u,loading:p,pageLinks:g}=t;const m=(0,I.Z)(null!=g?g:null),y=!1===(null===(s=m.previous)||void 0===s?void 0:s.results);return(0,oe.BX)(n.Fragment,{children:[(0,oe.tZ)(j.ZP,{isLoading:p,data:null!==(a=null==u||null===(r=u[0])||void 0===r?void 0:r.data)&&void 0!==a?a:[],columnOrder:tt,columnSortBy:st,grid:{renderHeadCell:de({...e,widget:Ue,tableData:null==u?void 0:u[0],onHeaderClick:()=>{([F.FO.TOP_N,F.FO.TABLE].includes(o.displayType)||(0,k.ri)(o.limit))&&Se(!1)}}),renderBodyCell:le({...e,tableData:null==u?void 0:u[0],isFirstPage:y}),onResizeColumn:nt},location:c}),!Ue.queries[0].orderby.match(/^-?release$/)&&((null==m||null===(l=m.previous)||void 0===l?void 0:l.results)||(null==m||null===(d=m.next)||void 0===d?void 0:d.results))&&(0,oe.tZ)(Z.Z,{pageLinks:g,onCursor:e=>{U.replace({pathname:c.pathname,query:{...c.query,[Y.R.CURSOR]:e}}),(0,C.Z)("dashboards_views.widget_viewer.paginate",{organization:i,widget_type:F.l9.RELEASE,display_type:o.displayType})}})]})},dt=(e,t)=>{var s,n,a;const r=t.getModel(),{seriesStart:l,seriesEnd:d}=e;let u,p;u=null===(s=r._payload.batch)||void 0===s?void 0:s[0].startValue,p=null===(n=r._payload.batch)||void 0===n?void 0:n[0].endValue;const g=l?new Date(l).getTime():void 0,m=d?new Date(d).getTime():void 0;if(void 0===u||void 0===p){if(!g||!m)return;{const e=m-g;u=e*r._payload.start*.01+g,p=e*r._payload.end*.01+g}}ke({startValue:u,endValue:p});const y=(0,q.v5)(h().utc(u)),v=(0,q.v5)(h().utc(p));qe({...Ce,datetime:{...Ce.datetime,start:y,end:v,period:null}}),U.push({pathname:c.pathname,query:{...c.query,[Y.R.START]:y,[Y.R.END]:v}}),(0,C.Z)("dashboards_views.widget_viewer.zoom",{organization:i,widget_type:null!==(a=o.widgetType)&&void 0!==a?a:F.l9.DISCOVER,display_type:o.displayType})};function ut(){switch(o.widgetType){case F.l9.ISSUE:return te&&Te&&o.displayType===F.FO.TABLE?rt({tableResults:te,loading:!1,errorMessage:void 0,pageLinks:ie,totalCount:se}):(0,oe.tZ)(G.Z,{api:He,organization:i,widget:Ue,selection:Ce,limit:o.displayType===F.FO.TABLE?20:10,cursor:Fe,children:rt});case F.l9.RELEASE:return te&&Te&&o.displayType===F.FO.TABLE?lt({tableResults:te,loading:!1,pageLinks:ie}):(0,oe.tZ)(H.ZP,{api:He,organization:i,widget:Ue,selection:Ce,limit:o.displayType===F.FO.TABLE?20:10,cursor:Fe,children:lt});case F.l9.DISCOVER:default:return te&&Te&&o.displayType===F.FO.TABLE?(0,oe.tZ)(at,{tableResults:te,loading:!1,pageLinks:ie}):(0,oe.tZ)(X.ZP,{api:He,organization:i,widget:Ue,selection:Ce,limit:o.displayType===F.FO.TABLE?20:10,cursor:Fe,children:e=>{let{tableResults:t,loading:s,pageLinks:i}=e;return(0,oe.tZ)(at,{tableResults:t,loading:s,pageLinks:i})}})}}return(0,oe.tZ)(n.Fragment,{children:(0,oe.tZ)($.g.Provider,{value:i,children:(0,oe.tZ)(M.KC,{children:(0,oe.tZ)(A.BT,{organization:i,location:c,children:(0,oe.tZ)(W.d,{organization:i,eventView:et,location:c,hideLoadingIndicator:!0,children:e=>(0,oe.BX)(z.kP,{location:c,forceTransactions:e.forceTransactionsOnly,children:[(0,oe.tZ)(y,{closeButton:!0,children:(0,oe.tZ)("h3",{children:o.title})}),(0,oe.tZ)(g,{children:(0,oe.BX)(n.Fragment,{children:[o.displayType!==F.FO.TABLE&&(0,oe.tZ)(be,{height:o.displayType!==F.FO.BIG_NUMBER?300+(ue&&[F.FO.AREA,F.FO.LINE,F.FO.BAR,F.FO.TOP_N].includes(o.displayType)?N.R:0):null,children:(ee||te)&&Te?(0,oe.tZ)(ye,{timeseriesResults:ee,timeseriesResultsTypes:ne,tableResults:te,errorMessage:void 0,loading:!1,location:c,widget:o,selection:d,router:U,organization:i,onZoom:dt,onLegendSelectChanged:ot,legendOptions:{selected:Ie},expandNumbers:!0,showSlider:ue,noPadding:!0,chartZoomOptions:Oe}):(0,oe.tZ)(me,{location:c,router:U,routes:J,params:K,api:He,organization:i,selection:Le.current,widget:Ge,onZoom:dt,onLegendSelectChanged:ot,legendOptions:{selected:Ie},expandNumbers:!0,showSlider:ue,noPadding:!0,chartZoomOptions:Oe})}),o.queries.length>1&&(0,oe.tZ)(w.Z,{type:"info",showIcon:!0,children:(0,S.t)("This widget was built with multiple queries. Table data can only be displayed for one query at a time. To edit any of the queries, edit the widget.")}),(o.queries.length>1||o.queries[0].conditions)&&(0,oe.BX)(xe,{children:[(0,oe.tZ)(x.Z,{value:De,options:it,onChange:e=>{var t;U.replace({pathname:c.pathname,query:{...c.query,[Y.R.QUERY]:e.value,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}),(0,C.Z)("dashboards_views.widget_viewer.select_query",{organization:i,widget_type:null!==(t=o.widgetType)&&void 0!==t?t:F.l9.DISCOVER,display_type:o.displayType})},components:{SingleValue:e=>{var t;return(0,oe.tZ)(a.y.SingleValue,{...e,getStyles:()=>({wordBreak:"break-word",flex:1,display:"flex",padding:`0 ${(0,O.Z)(.5)}`}),children:null!==(t=it[De].getHighlightedQuery({display:"block"}))&&void 0!==t?t:it[De].label||(0,oe.tZ)(Re,{children:pe})})},Option:e=>{const t=e.data.getHighlightedQuery({display:"flex"});return(0,oe.tZ)(f.Z,{...t?{...e,label:t}:e.label?e:{...e,label:(0,oe.tZ)(Re,{children:pe})}})},...o.queries.length<2?{IndicatorsContainer:e=>null}:{}},isSearchable:!1,isDisabled:o.queries.length<2}),1===o.queries.length&&(0,oe.tZ)(fe,{title:(0,S.t)("To edit this query, you must edit the widget."),size:"sm"})]}),ut()]})}),(0,oe.tZ)(p,{children:(0,oe.BX)(Ze,{children:[we(ze,o.widgetType),(0,oe.BX)(b.ZP,{gap:1,children:[P&&o.id&&(0,oe.tZ)(_.ZP,{type:"button",onClick:()=>{var e;R(),P(),(0,C.Z)("dashboards_views.widget_viewer.edit",{organization:i,widget_type:null!==(e=o.widgetType)&&void 0!==e?e:F.l9.DISCOVER,display_type:o.displayType})},children:(0,S.t)("Edit Widget")}),o.widgetType&&(0,oe.tZ)(ve,{widget:Ge,organization:i,selection:Ce,selectedQueryIndex:De})]})]})})]})})})})})})}function ve(e){let t,s,{widget:i,selection:n,organization:o,selectedQueryIndex:a}=e;const{isMetricsData:r}=(0,M.XA)();switch(i.widgetType){case F.l9.ISSUE:t=(0,S.t)("Open in Issues"),s=(0,V.hS)(i,n,o);break;case F.l9.RELEASE:t=(0,S.t)("Open in Releases"),s=(0,V.Cg)(i,n,o);break;case F.l9.DISCOVER:default:t=(0,S.t)("Open in Discover"),s=(0,V.z1)({...i,queries:[i.queries[a]]},n,o,0,r)}return(0,oe.tZ)(_.ZP,{to:s,priority:"primary",type:"button",onClick:()=>{var e;(0,C.Z)("dashboards_views.widget_viewer.open_source",{organization:o,widget_type:null!==(e=i.widgetType)&&void 0!==e?e:F.l9.DISCOVER,display_type:i.displayType})},children:t})}function we(e,t){if(void 0===e)return(0,oe.tZ)("span",{});switch(t){case F.l9.ISSUE:return(0,oe.tZ)("span",{children:(0,S._N)("[description:Total Issues:] [total]",{description:(0,oe.tZ)("strong",{}),total:"1000"===e?"1000+":e})});case F.l9.DISCOVER:return(0,oe.tZ)("span",{children:(0,S._N)("[description:Total Events:] [total]",{description:(0,oe.tZ)("strong",{}),total:e})});default:return(0,oe.tZ)("span",{})}}he.displayName="WidgetViewerModal",ve.displayName="OpenButton";const _e={name:"zhkibu",styles:"width:100%;max-width:1200px"},be=(0,i.Z)("div",{target:"eteb5ir5"})("height:",(e=>e.height?`${e.height}px`:"auto"),";position:relative;padding-bottom:",(0,O.Z)(3),";"),xe=(0,i.Z)("div",{target:"eteb5ir4"})("margin-bottom:",(0,O.Z)(2),";position:relative;"),fe=(0,i.Z)(R.Z,{target:"eteb5ir3"})("position:absolute;top:",(0,O.Z)(1.5),";right:",(0,O.Z)(2),";"),je=(0,i.Z)("span",{target:"eteb5ir2"})("display:",(e=>e.display),";gap:",(0,O.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:2;flex:1;"),Ze=(0,i.Z)("div",{target:"eteb5ir1"})("display:flex;flex-grow:1;flex-direction:column;gap:",(0,O.Z)(1),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){align-items:center;flex-direction:row;justify-content:space-between;}"),Re=(0,i.Z)("span",{target:"eteb5ir0"})("color:",(e=>e.theme.disabled),";"),Ee=(0,o.withRouter)((0,P.Z)(he))},"./app/components/pagination.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react-router/es/index.js"),o=s("./app/components/button.tsx"),a=s("./app/components/buttonBar.tsx"),r=s("./app/icons/index.tsx"),l=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),u=s("./app/utils/parseLinkHeader.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const p=(e,t,s,i)=>n.browserHistory.push({pathname:t,query:{...s,cursor:e}}),g=e=>{var t,s;let{to:i,location:n,className:d,onCursor:g=p,paginationAnalyticsEvent:h,pageLinks:v,size:w="sm",caption:_,disabled:b=!1}=e;if(!v)return null;const x=null!=i?i:n.pathname,f=n.query,j=(0,u.Z)(v),Z=b||!1===(null===(t=j.previous)||void 0===t?void 0:t.results),R=b||!1===(null===(s=j.next)||void 0===s?void 0:s.results);return(0,c.BX)(m,{className:d,children:[_&&(0,c.tZ)(y,{children:_}),(0,c.BX)(a.ZP,{merged:!0,children:[(0,c.tZ)(o.ZP,{icon:(0,c.tZ)(r.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:w,disabled:Z,onClick:()=>{var e;null==g||g(null===(e=j.previous)||void 0===e?void 0:e.cursor,x,f,-1),null==h||h("Previous")}}),(0,c.tZ)(o.ZP,{icon:(0,c.tZ)(r.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:w,disabled:R,onClick:()=>{var e;null==g||g(null===(e=j.next)||void 0===e?void 0:e.cursor,x,f,1),null==h||h("Next")}})]})]})};g.displayName="Pagination";const m=(0,i.Z)("div",{target:"ewgwd3b1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,d.Z)(3)," 0 0 0;"),y=(0,i.Z)("span",{target:"ewgwd3b0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,d.Z)(2),";"),h=(0,n.withRouter)(g)},"../node_modules/core-js/internals/a-constructor.js":(e,t,s)=>{var i=s("../node_modules/core-js/internals/is-constructor.js"),n=s("../node_modules/core-js/internals/try-to-string.js"),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(n(e)+" is not a constructor")}},"../node_modules/core-js/internals/species-constructor.js":(e,t,s)=>{var i=s("../node_modules/core-js/internals/an-object.js"),n=s("../node_modules/core-js/internals/a-constructor.js"),o=s("../node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var s,a=i(e).constructor;return void 0===a||null==(s=i(a)[o])?t:n(s)}},"../node_modules/core-js/modules/es.string.match-all.js":(e,t,s)=>{"use strict";var i=s("../node_modules/core-js/internals/export.js"),n=s("../node_modules/core-js/internals/function-call.js"),o=s("../node_modules/core-js/internals/function-uncurry-this.js"),a=s("../node_modules/core-js/internals/create-iterator-constructor.js"),r=s("../node_modules/core-js/internals/require-object-coercible.js"),l=s("../node_modules/core-js/internals/to-length.js"),d=s("../node_modules/core-js/internals/to-string.js"),u=s("../node_modules/core-js/internals/an-object.js"),c=s("../node_modules/core-js/internals/classof-raw.js"),p=s("../node_modules/core-js/internals/is-regexp.js"),g=s("../node_modules/core-js/internals/regexp-get-flags.js"),m=s("../node_modules/core-js/internals/get-method.js"),y=s("../node_modules/core-js/internals/define-built-in.js"),h=s("../node_modules/core-js/internals/fails.js"),v=s("../node_modules/core-js/internals/well-known-symbol.js"),w=s("../node_modules/core-js/internals/species-constructor.js"),_=s("../node_modules/core-js/internals/advance-string-index.js"),b=s("../node_modules/core-js/internals/regexp-exec-abstract.js"),x=s("../node_modules/core-js/internals/internal-state.js"),f=s("../node_modules/core-js/internals/is-pure.js"),j=v("matchAll"),Z="RegExp String Iterator",R=x.set,E=x.getterFor(Z),T=RegExp.prototype,S=TypeError,O=o("".indexOf),k=o("".matchAll),C=!!k&&!h((function(){k("a",/./)})),q=a((function(e,t,s,i){R(this,{type:Z,regexp:e,string:t,global:s,unicode:i,done:!1})}),"RegExp String",(function(){var e=E(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,s=e.string,i=b(t,s);return null===i?{value:void 0,done:e.done=!0}:e.global?(""===d(i[0])&&(t.lastIndex=_(s,l(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})})),L=function(e){var t,s,i,n=u(this),o=d(e),a=w(n,RegExp),r=d(g(n));return t=new a(a===RegExp?n.source:n,r),s=!!~O(r,"g"),i=!!~O(r,"u"),t.lastIndex=l(n.lastIndex),new q(t,o,s,i)};i({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,s,i,o,a=r(this);if(null!=e){if(p(e)&&(t=d(r(g(e))),!~O(t,"g")))throw S("`.matchAll` does not allow non-global regexes");if(C)return k(a,e);if(void 0===(i=m(e,j))&&f&&"RegExp"==c(e)&&(i=L),i)return n(i,e,a)}else if(C)return k(a,e);return s=d(a),o=new RegExp(e,"g"),f?n(L,o,s):o[j](s)}}),f||j in T||y(T,j,L)},"../node_modules/lodash/_charsStartIndex.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){for(var s=-1,n=e.length;++s<n&&i(t,e[s],0)>-1;);return s}},"../node_modules/lodash/assign.js":(e,t,s)=>{var i=s("../node_modules/lodash/_assignValue.js"),n=s("../node_modules/lodash/_copyObject.js"),o=s("../node_modules/lodash/_createAssigner.js"),a=s("../node_modules/lodash/isArrayLike.js"),r=s("../node_modules/lodash/_isPrototype.js"),l=s("../node_modules/lodash/keys.js"),d=Object.prototype.hasOwnProperty,u=o((function(e,t){if(r(t)||a(t))n(t,l(t),e);else for(var s in t)d.call(t,s)&&i(e,s,t[s])}));e.exports=u},"../node_modules/lodash/cloneDeep.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseClone.js");e.exports=function(e){return i(e,5)}},"../node_modules/lodash/isInteger.js":(e,t,s)=>{var i=s("../node_modules/lodash/toInteger.js");e.exports=function(e){return"number"==typeof e&&e==i(e)}},"../node_modules/lodash/isNil.js":e=>{e.exports=function(e){return null==e}},"../node_modules/lodash/isNumber.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseGetTag.js"),n=s("../node_modules/lodash/isObjectLike.js");e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==i(e)}},"../node_modules/lodash/maxBy.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseExtremum.js"),n=s("../node_modules/lodash/_baseGt.js"),o=s("../node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return e&&e.length?i(e,o(t,2),n):void 0}},"../node_modules/lodash/pick.js":(e,t,s)=>{var i=s("../node_modules/lodash/_basePick.js"),n=s("../node_modules/lodash/_flatRest.js")((function(e,t){return null==e?{}:i(e,t)}));e.exports=n},"../node_modules/lodash/set.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseSet.js");e.exports=function(e,t,s){return null==e?e:i(e,t,s)}},"../node_modules/lodash/trimStart.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseToString.js"),n=s("../node_modules/lodash/_castSlice.js"),o=s("../node_modules/lodash/_charsStartIndex.js"),a=s("../node_modules/lodash/_stringToArray.js"),r=s("../node_modules/lodash/toString.js"),l=/^\s+/;e.exports=function(e,t,s){if((e=r(e))&&(s||void 0===t))return e.replace(l,"");if(!e||!(t=i(t)))return e;var d=a(e),u=o(d,a(t));return n(d,u).join("")}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_widgetViewerModal_tsx-node_modules_core-js_modules_es_string_match-all_-acd5d9.3800e05ec57672dfbff0fcb7bf397a78.js.map