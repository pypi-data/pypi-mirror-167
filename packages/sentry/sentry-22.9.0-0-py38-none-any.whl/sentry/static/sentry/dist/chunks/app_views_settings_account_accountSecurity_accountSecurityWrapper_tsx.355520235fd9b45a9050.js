"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx"],{"./app/views/settings/account/accountSecurity/accountSecurityWrapper.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("./app/actionCreators/indicator.tsx"),r=s("./app/components/asyncComponent.tsx"),o=s("./app/locale.tsx"),l=s("./app/utils.tsx");const c="/users/me/authenticators/";class h extends r.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleDisable",(async e=>{if(e&&e.authId){this.setState({loading:!0});try{await this.api.requestPromise(`${c}${e.authId}/`,{method:"DELETE"}),this.remountComponent()}catch(t){this.setState({loading:!1}),(0,n.Iw)((0,o.t)("Error disabling %s",e.name))}}})),(0,a.Z)(this,"handleRegenerateBackupCodes",(async()=>{this.setState({loading:!0});try{await this.api.requestPromise(`${c}${this.props.params.authId}/`,{method:"PUT"}),this.remountComponent()}catch(e){this.setState({loading:!1}),(0,n.Iw)((0,o.t)("Error regenerating backup codes"))}})),(0,a.Z)(this,"handleRefresh",(()=>{this.fetchData()}))}getEndpoints(){return[["authenticators",c],["organizations","/organizations/"],["emails","/users/me/emails/"]]}renderBody(){const{children:e}=this.props,{authenticators:t,organizations:s,emails:a}=this.state,n=((null==t?void 0:t.filter((e=>e.isEnrolled&&!e.isBackupInterface)))||[]).length,r=(null==s?void 0:s.filter((e=>e.require2FA)))||[],o=r.length>0&&1===n,c=!(null==a||!a.find((e=>{let{isVerified:t}=e;return t})));return(0,l.ri)(e)?(0,i.cloneElement)(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:t,deleteDisabled:o,orgsRequire2fa:r,countEnrolled:n,hasVerifiedEmail:c,handleRefresh:this.handleRefresh}):null}}const u=h}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx.a02400573be75b164809145d424edb5c.js.map