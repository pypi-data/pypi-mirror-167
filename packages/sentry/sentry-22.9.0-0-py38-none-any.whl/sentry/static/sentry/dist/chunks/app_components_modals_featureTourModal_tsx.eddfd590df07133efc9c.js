"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_featureTourModal_tsx"],{"./app/components/modals/featureTourModal.tsx":(t,e,o)=>{o.d(e,{RB:()=>C,ZP:()=>b,oP:()=>k});var s=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),a=o("./app/actionCreators/modal.tsx"),i=o("./app/components/button.tsx"),d=o("./app/components/buttonBar.tsx"),l=o("./app/icons/index.tsx"),p=o("./app/locale.tsx"),c=o("./app/styles/space.tsx"),h=o("./app/utils/callIfFunction.tsx"),m=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u={doneText:(0,p.t)("Done")};class Z extends r.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{openedAt:0,current:0}),(0,s.Z)(this,"handleAdvance",((t,e)=>{this.setState({current:t}),(0,h.g)(this.props.onAdvance,t,e)})),(0,s.Z)(this,"handleShow",(()=>{this.setState({openedAt:Date.now()},(()=>{const t={steps:this.props.steps,onAdvance:this.handleAdvance,openedAt:this.state.openedAt,doneText:this.props.doneText,doneUrl:this.props.doneUrl};(0,a.openModal)((e=>(0,m.tZ)(g,{...e,...t})),{onClose:this.handleClose})}))})),(0,s.Z)(this,"handleClose",(()=>{if(0===this.state.openedAt)return;const{onCloseModal:t}=this.props,e=Date.now()-this.state.openedAt;(0,h.g)(t,this.state.current,e),this.setState({openedAt:0,current:0})}))}render(){const{children:t}=this.props;return(0,m.tZ)(r.Fragment,{children:t({showModal:this.handleShow})})}}Z.displayName="FeatureTourModal",(0,s.Z)(Z,"defaultProps",u);const b=Z;class g extends r.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{current:0,openedAt:Date.now()}),(0,s.Z)(this,"handleAdvance",(()=>{const{onAdvance:t,openedAt:e}=this.props;this.setState((t=>({current:t.current+1})),(()=>{const o=Date.now()-e;(0,h.g)(t,this.state.current,o)}))}))}render(){const{Body:t,steps:e,doneText:o,doneUrl:s,closeModal:n}=this.props,{current:r}=this.state,a=void 0!==e[r]?e[r]:e[e.length-1],d=void 0!==e[r+1];return(0,m.BX)(t,{"data-test-id":"feature-tour",children:[(0,m.tZ)(x,{borderless:!0,size:"zero",onClick:n,icon:(0,m.tZ)(l.bM,{}),"aria-label":(0,p.t)("Close tour")}),(0,m.BX)(y,{children:[a.image,(0,m.tZ)(f,{children:a.title}),a.body,(0,m.BX)(A,{gap:1,children:[a.actions&&a.actions,d&&(0,m.tZ)(i.ZP,{priority:"primary",onClick:this.handleAdvance,children:(0,p.t)("Next")}),!d&&(0,m.tZ)(i.ZP,{external:!0,href:s,onClick:n,priority:"primary","aria-label":(0,p.t)("Complete tour"),children:o})]}),(0,m.tZ)(w,{children:(0,p.t)("%s of %s",r+1,e.length)})]})]})}}g.displayName="ModalContents",(0,s.Z)(g,"defaultProps",u);const x=(0,n.Z)(i.ZP,{target:"e4yabkt6"})("position:absolute;top:-",(0,c.Z)(2),";right:-",(0,c.Z)(1),";"),y=(0,n.Z)("div",{target:"e4yabkt5"})("display:flex;flex-direction:column;align-items:center;margin:",(0,c.Z)(3)," ",(0,c.Z)(4)," ",(0,c.Z)(1)," ",(0,c.Z)(4),";"),f=(0,n.Z)("h4",{target:"e4yabkt4"})("margin-bottom:",(0,c.Z)(1),";"),A=(0,n.Z)(d.ZP,{target:"e4yabkt3"})("margin-bottom:",(0,c.Z)(3),";"),w=(0,n.Z)("div",{target:"e4yabkt2"})("text-transform:uppercase;font-size:",(t=>t.theme.fontSizeSmall),";font-weight:bold;color:",(t=>t.theme.gray300),";"),C=(0,n.Z)("p",{target:"e4yabkt1"})("text-align:center;margin-bottom:",(0,c.Z)(4),";"),k=(0,n.Z)("img",{target:"e4yabkt0"})("height:200px;margin-bottom:",(0,c.Z)(4),";max-width:380px!important;box-shadow:none!important;border:0!important;border-radius:0!important;")}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_featureTourModal_tsx.d8aff46da5a955560c10e93f9e6edd2d.js.map