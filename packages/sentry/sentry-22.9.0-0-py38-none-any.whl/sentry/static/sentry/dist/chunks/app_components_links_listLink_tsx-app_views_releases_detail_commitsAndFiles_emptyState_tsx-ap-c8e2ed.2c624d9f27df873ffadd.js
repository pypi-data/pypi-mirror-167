(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_views_releases_detail_commitsAndFiles_emptyState_tsx-ap-c8e2ed","app_components_links_listLink_tsx-node_modules_lodash_mean_js"],{"./app/components/links/listLink.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/classnames/index.js"),l=s.n(a),d=s("../node_modules/lodash/omit.js"),p=s.n(d),u=s("../node_modules/query-string/index.js"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends r.Component{constructor(){super(...arguments),(0,o.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:s}=this.props;return t&&(e[t]=!0),this.isActive()&&s&&(e[s]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:s,index:o,router:i}=this.props,r=s?u.parse(s):void 0,n="string"==typeof t?{pathname:t,query:r}:t;return"function"==typeof e?e(n,o):i.isActive(n,o)}render(){const{index:e,children:t,to:s,disabled:o,...i}=this.props,r=p()(i,"activeClassName","css","isActive","index","router","location");return(0,c.tZ)(S,{className:this.getClassName(),disabled:o,children:(0,c.tZ)(n.Link,{...r,onlyActiveOnIndex:e,to:o?"":s,children:t})})}}m.displayName="ListLink",(0,o.Z)(m,"displayName","ListLink"),(0,o.Z)(m,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,n.withRouter)(m),S=(0,i.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/stores/repositoryStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const o={state:{orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},init(){this.resetRepositories()},resetRepositories(){this.state={orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},this.trigger(this.state)},loadRepositories(e){this.state={orgSlug:e,repositories:e===this.state.orgSlug?this.state.repositories:void 0,repositoriesLoading:!0,repositoriesError:void 0},this.trigger(this.state)},loadRepositoriesError(e){this.state={...this.state,repositories:void 0,repositoriesLoading:!1,repositoriesError:e},this.trigger(this.state)},loadRepositoriesSuccess(e){this.state={...this.state,repositories:e,repositoriesLoading:!1,repositoriesError:void 0},this.trigger(this.state)},get(){return{...this.state}}},i=(0,s("../node_modules/reflux/src/index.js").createStore)(o)},"./app/utils/withRepositories.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),r=s("../node_modules/@sentry/hub/esm/exports.js"),n=s("./app/stores/repositoryStore.tsx"),a=s("./app/utils/getDisplayName.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d={repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},p=function(e){class t extends i.Component{constructor(e,t){super(e,t),(0,o.Z)(this,"unsubscribe",n.Z.listen((()=>this.onStoreUpdate()),void 0));const s=n.Z.get();this.state=s.orgSlug===e.organization.slug?{...d,...s}:{...d}}componentDidMount(){const{organization:e}=this.props,t=e.slug;n.Z.get().orgSlug!==t&&n.Z.resetRepositories(),this.fetchRepositories()}componentWillUnmount(){this.unsubscribe()}fetchRepositories(){const{api:e,organization:t}=this.props,s=t.slug,o=n.Z.get();(!o.repositories&&!o.repositoriesLoading||o.repositoriesError)&&function(e,t){const{orgSlug:s}=t,o=`/organizations/${s}/repos/`;n.Z.state.repositoriesLoading=!0,n.Z.loadRepositories(s),e.requestPromise(o,{method:"GET"}).then((e=>{n.Z.loadRepositoriesSuccess(e)})).catch((e=>{n.Z.loadRepositoriesError(e),r.$e((t=>{t.setLevel("warning"),t.setFingerprint(["getRepositories-action-creator"]),r.Tb(e)}))}))}(e,{orgSlug:s})}onStoreUpdate(){const e=n.Z.get();this.setState({...e})}render(){return(0,l.tZ)(e,{...this.props,...this.state})}}return t.displayName="WithRepositories",(0,o.Z)(t,"displayName",`withRepositories(${(0,a.Z)(e)})`),t}},"./app/views/releases/detail/commitsAndFiles/emptyState.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s("./app/components/emptyStateWarning.tsx"),i=s("./app/components/panels/index.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=e=>{let{children:t}=e;return(0,r.tZ)(i.s_,{children:(0,r.tZ)(i.N,{children:(0,r.tZ)(o.Z,{children:(0,r.tZ)("p",{children:t})})})})};n.displayName="EmptyState";const a=n},"./app/views/releases/detail/commitsAndFiles/repositorySwitcher.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("./app/components/forms/compactSelect.tsx"),a=s("./app/locale.tsx"),l=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends r.PureComponent{constructor(){super(...arguments),(0,o.Z)(this,"handleRepoFilterChange",(e=>{const{router:t,location:s}=this.props;t.push({...s,query:{...s.query,cursor:void 0,activeRepo:e}})}))}render(){const{activeRepository:e,repositories:t}=this.props,s=null==e?void 0:e.name;return(0,d.tZ)(c,{triggerLabel:s,triggerProps:{prefix:(0,a.t)("Filter")},value:s,options:t.map((e=>({value:e.name,label:(0,d.tZ)(m,{children:e.name})}))),onChange:e=>this.handleRepoFilterChange(null==e?void 0:e.value)})}}p.displayName="RepositorySwitcher";const u=p,c=(0,i.Z)(n.Z,{target:"e17qagoc1"})("margin-bottom:",(0,l.Z)(1),";"),m=(0,i.Z)("div",{target:"e17qagoc0"})((e=>e.theme.overflowEllipsis),";")},"./app/views/releases/detail/commitsAndFiles/withReleaseRepos.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("../node_modules/@sentry/hub/esm/exports.js"),n=s("./app/actionCreators/indicator.tsx"),a=s("./app/components/button.tsx"),l=s("./app/components/emptyMessage.tsx"),d=s("./app/components/layouts/thirds.tsx"),p=s("./app/components/loadingIndicator.tsx"),u=s("./app/components/panels/index.tsx"),c=s("./app/icons/index.tsx"),m=s("./app/locale.tsx"),h=s("./app/utils/getDisplayName.tsx"),S=s("./app/utils/withApi.tsx"),R=s("./app/utils/withOrganization.tsx"),g=s("./app/utils/withRepositories.tsx"),v=s("./app/views/releases/detail/index.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=function(e){class t extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{releaseRepos:[],isLoading:!0})}componentDidMount(){this.fetchReleaseRepos()}componentDidUpdate(e,t){var s,o;this.props.params.release!==e.params.release||e.repositoriesLoading&&!this.props.repositoriesLoading?this.fetchReleaseRepos():t.releaseRepos.length===this.state.releaseRepos.length&&(null===(s=e.location.query)||void 0===s?void 0:s.activeRepo)===(null===(o=this.props.location.query)||void 0===o?void 0:o.activeRepo)||this.setActiveReleaseRepo(this.props)}setActiveReleaseRepo(e){var t;const{releaseRepos:s,activeReleaseRepo:o}=this.state;if(!s.length)return;const i=null===(t=e.location.query)||void 0===t?void 0:t.activeRepo;var r;if(!i)return void this.setState({activeReleaseRepo:null!==(r=s[0])&&void 0!==r?r:null});if(i===(null==o?void 0:o.name))return;const a=s.find((e=>e.name===i));a?this.setState({activeReleaseRepo:a}):(0,n.Iw)((0,m.t)("The repository you were looking for was not found."))}async fetchReleaseRepos(){const{params:e,api:t,repositories:s,repositoriesLoading:o}=this.props;if(void 0===o||!0===o)return;if(null==s||!s.length)return void this.setState({isLoading:!1});const{release:i,orgId:a}=e,{project:l}=this.context;this.setState({isLoading:!0});try{const e=encodeURIComponent(i),s=await t.requestPromise(`/projects/${a}/${l.slug}/releases/${e}/repositories/`);this.setState({releaseRepos:s,isLoading:!1}),this.setActiveReleaseRepo(this.props)}catch(e){r.Tb(e),(0,n.Iw)((0,m.t)("An error occurred while trying to fetch the repositories of the release: %s",i))}}render(){const{isLoading:t,activeReleaseRepo:s,releaseRepos:o}=this.state,{repositoriesLoading:i,repositories:r,params:n,router:h,location:S,organization:R}=this.props;if(t||i)return(0,_.tZ)(p.Z,{});if(null==r||!r.length){const{orgId:e}=n;return(0,_.tZ)(d.uT,{children:(0,_.tZ)(d.or,{fullWidth:!0,children:(0,_.tZ)(u.s_,{dashedBorder:!0,children:(0,_.tZ)(l.Z,{icon:(0,_.tZ)(c.J3,{size:"xl"}),title:(0,m.t)("Releases are better with commit data!"),description:(0,m.t)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:(0,_.tZ)(a.ZP,{priority:"primary",to:`/settings/${e}/repos/`,children:(0,m.t)("Connect a repository")})})})})})}if(!o.length)return(0,_.tZ)(d.uT,{children:(0,_.tZ)(d.or,{fullWidth:!0,children:(0,_.tZ)(u.s_,{dashedBorder:!0,children:(0,_.tZ)(l.Z,{icon:(0,_.tZ)(c.J3,{size:"xl"}),title:(0,m.t)("Releases are better with commit data!"),description:(0,m.t)("No commits associated with this release have been found.")})})})});if(void 0===s)return(0,_.tZ)(p.Z,{});const{release:g}=n,v=R.slug;return(0,_.tZ)(e,{...this.props,orgSlug:v,projectSlug:this.context.project.slug,release:g,router:h,location:S,releaseRepos:o,activeReleaseRepo:s})}}return t.displayName="WithReleaseRepos",(0,o.Z)(t,"displayName",`withReleaseRepos(${(0,h.Z)(e)})`),(0,o.Z)(t,"contextType",v.ReleaseContext),(0,S.Z)((0,R.Z)((0,g.Z)(t)))}},"./app/views/releases/detail/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{AN:()=>v,AO:()=>x,DZ:()=>R,Mn:()=>Z,N8:()=>I,Om:()=>_,Sz:()=>E,bB:()=>S,pm:()=>g}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("../node_modules/lodash/pick.js"),i=s.n(o),r=s("../node_modules/moment/moment.js"),n=s.n(r),a=s("./app/components/charts/components/markLine.tsx"),l=s("./app/components/organizations/timeRangeSelector/utils.tsx"),d=s("./app/constants/pageFilters.tsx"),p=s("./app/locale.tsx"),u=s("./app/types/index.tsx"),c=s("./app/utils/queryString.tsx"),m=s("./app/views/releases/utils/index.tsx"),h=s("./app/views/releases/utils/sessionTerm.tsx");function S(e){return e.reduce(((e,t)=>{const{filename:s,repoName:o,author:i,type:r}=t;return e.hasOwnProperty(o)||(e[o]={}),e[o].hasOwnProperty(s)||(e[o][s]={authors:{},types:new Set}),i.email&&(e[o][s].authors[i.email]=i),e[o][s].types.add(r),e}),{})}function R(e){return e.reduce(((e,t)=>{var s,o;const i=null!==(s=null===(o=t.repository)||void 0===o?void 0:o.name)&&void 0!==s?s:(0,p.t)("unknown");return e.hasOwnProperty(i)||(e[i]=[]),e[i].push(t),e}),{})}function g(e){let{location:t,perPage:s=40,activeRepository:o}=e;const r={...i()(t.query,[...Object.values(d.nF),"cursor"]),per_page:s};return o?{...r,repo_name:o.name}:r}function v(e,t){return t?[t.name]:e}const _={[u.GI.CRASH_FREE_SESSIONS]:(0,p.t)("Crash Free Session Rate"),[u.GI.HEALTHY_SESSIONS]:(0,p.t)("Healthy"),[u.GI.ABNORMAL_SESSIONS]:(0,p.t)("Abnormal"),[u.GI.ERRORED_SESSIONS]:(0,p.t)("Errored"),[u.GI.CRASHED_SESSIONS]:(0,p.t)("Crashed Session Rate"),[u.GI.CRASH_FREE_USERS]:(0,p.t)("Crash Free User Rate"),[u.GI.HEALTHY_USERS]:(0,p.t)("Healthy"),[u.GI.ABNORMAL_USERS]:(0,p.t)("Abnormal"),[u.GI.ERRORED_USERS]:(0,p.t)("Errored"),[u.GI.CRASHED_USERS]:(0,p.t)("Crashed User Rate"),[u.GI.SESSION_COUNT]:(0,p.t)("Session Count"),[u.GI.SESSION_DURATION]:(0,p.t)("Session Duration p50"),[u.GI.USER_COUNT]:(0,p.t)("User Count"),[u.GI.ERROR_COUNT]:(0,p.t)("Error Count"),[u.GI.TRANSACTION_COUNT]:(0,p.t)("Transaction Count"),[u.GI.FAILURE_RATE]:(0,p.t)("Failure Rate")},x={[u.GI.CRASH_FREE_SESSIONS]:(0,p.t)("Crash Free Session Rate"),[u.GI.HEALTHY_SESSIONS]:(0,p.t)("Healthy Session Rate"),[u.GI.ABNORMAL_SESSIONS]:(0,p.t)("Abnormal Session Rate"),[u.GI.ERRORED_SESSIONS]:(0,p.t)("Errored Session Rate"),[u.GI.CRASHED_SESSIONS]:(0,p.t)("Crashed Session Rate"),[u.GI.CRASH_FREE_USERS]:(0,p.t)("Crash Free User Rate"),[u.GI.HEALTHY_USERS]:(0,p.t)("Healthy User Rate"),[u.GI.ABNORMAL_USERS]:(0,p.t)("Abnormal User Rate"),[u.GI.ERRORED_USERS]:(0,p.t)("Errored User Rate"),[u.GI.CRASHED_USERS]:(0,p.t)("Crashed User Rate"),[u.GI.SESSION_COUNT]:(0,p.t)("Session Count"),[u.GI.SESSION_DURATION]:(0,p.t)("Session Duration"),[u.GI.USER_COUNT]:(0,p.t)("User Count"),[u.GI.ERROR_COUNT]:(0,p.t)("Error Count"),[u.GI.TRANSACTION_COUNT]:(0,p.t)("Transaction Count"),[u.GI.FAILURE_RATE]:(0,p.t)("Failure Rate")},E={[u.GI.CRASH_FREE_SESSIONS]:h.w0[h._k.CRASH_FREE_SESSIONS],[u.GI.CRASH_FREE_USERS]:h.w0[h._k.CRASH_FREE_USERS],[u.GI.SESSION_COUNT]:(0,p.t)("The number of sessions in a given period."),[u.GI.USER_COUNT]:(0,p.t)("The number of users in a given period.")};function y(e,t,s,o){const{hideLabel:i,axisIndex:r}=o||{};return{seriesName:e,type:"line",data:[{name:t,value:null}],yAxisIndex:null!=r?r:void 0,xAxisIndex:null!=r?r:void 0,color:s.gray300,markLine:(0,a.Z)({silent:!0,lineStyle:{color:s.gray300,type:"solid"},label:{position:"insideEndBottom",formatter:i?"":e,font:"Rubik",fontSize:11},data:[{xAxis:t}]})}}const I={created:(0,p.t)("Release Created"),adopted:(0,p.t)("Adopted"),unadopted:(0,p.t)("Replaced")};function Z(e,t,s,o,i){var r;const a=[],d=null===(r=e.adoptionStages)||void 0===r?void 0:r[t.slug],p=1===(0,c.qP)(o.query.environment).length,u=(0,m.C8)(e),{statsPeriod:h,...S}=(0,m.O7)({location:o,releaseBounds:u});let{start:R,end:g}=S;const v=!(o.query.pageStart||o.query.pageEnd||o.query.pageStatsPeriod);if(h){const e=(0,l.su)(h,null);R=e.start,g=e.end}const _=n()(e.dateCreated).startOf("minute");if((_.isBetween(R,g)||v&&"normal"===u.type)&&a.push(y(I.created,_.valueOf(),s,i)),!p||!(0,m.Jl)(t.platform))return a;const x=(null==d?void 0:d.adopted)&&n()(d.adopted);x&&x.isBetween(R,g)&&a.push(y(I.adopted,x.valueOf(),s,i));const E=(null==d?void 0:d.unadopted)&&n()(d.unadopted);return E&&E.isBetween(R,g)&&a.push(y(I.unadopted,E.valueOf(),s,i)),a}},"../node_modules/lodash/_baseMean.js":(e,t,s)=>{var o=s("../node_modules/lodash/_baseSum.js");e.exports=function(e,t){var s=null==e?0:e.length;return s?o(e,t)/s:NaN}},"../node_modules/lodash/_baseSum.js":e=>{e.exports=function(e,t){for(var s,o=-1,i=e.length;++o<i;){var r=t(e[o]);void 0!==r&&(s=void 0===s?r:s+r)}return s}},"../node_modules/lodash/mean.js":(e,t,s)=>{var o=s("../node_modules/lodash/_baseMean.js"),i=s("../node_modules/lodash/identity.js");e.exports=function(e){return o(e,i)}}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_views_releases_detail_commitsAndFiles_emptyState_tsx-ap-c8e2ed.43da3801d58a20ebc36278076f1ccb77.js.map