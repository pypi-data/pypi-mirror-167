"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_incidentRedirect_tsx"],{"./app/utils/discover/charts.tsx":(e,t,r)=>{r.d(t,{CX:()=>i,Xp:()=>E,gu:()=>l,x1:()=>u}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var s=r("./app/locale.tsx"),n=r("./app/utils.tsx"),a=r("./app/utils/formatters.tsx");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,n.ri)(e)?o(e,t):"—"}function o(e,t){if(!(0,n.ri)(e))return"—";switch(t){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,a.rl)(e,2);case"duration":return(0,a.g9)(e/1e3,2,!0);case"size":return(0,n.F)(e);default:return e.toString()}}function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return u(e,t,r,s)}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;switch(t){case"integer":case"number":return r?(0,a.Du)(e):e.toLocaleString();case"percentage":return(0,a.rl)(e,0);case"duration":return c(e,s);case"size":return(0,n.F)(e,0);default:return e.toString()}}function c(e,t){var r;if(null!==(r=t)&&void 0!==r||(t=R(e)),0===e)return"0";switch(t){case a.ps:{const t=(e/a.ps).toFixed(0);return(0,s.t)("%swk",t)}case a.x4:{const t=(e/a.x4).toFixed(0);return(0,s.t)("%sd",t)}case a.kr:{const t=(e/a.kr).toFixed(0);return(0,s.t)("%shr",t)}case a.EB:{const t=(e/a.EB).toFixed(0);return(0,s.t)("%smin",t)}case a.sh:{const t=(e/a.sh).toFixed(0);return(0,s.t)("%ss",t)}default:const t=e.toFixed(0);return(0,s.t)("%sms",t)}}function E(e,t){let r=0;const s=function(e,t){var r;let s;if(null!==(r=e[0])&&void 0!==r&&r.data){var n;let r,a=e[0];e.forEach(((s,n)=>{var i;let{seriesName:o,data:l}=s;var u;!1!==(null==t||null===(i=t.selected)||void 0===i?void 0:i[o])&&l.length&&(a=e[n],null!==(u=r)&&void 0!==u||(r=e[n]))})),null!==(n=r)&&void 0!==n&&n.data&&(s={max:Math.max(...r.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e))),min:Math.min(...a.data.map((e=>{let{value:t}=e;return t})).filter((e=>!!e)))})}return s}(e,t);if(s){const e=(s.max+s.min)/2;r=R((s.max-s.min)/5),(e/r).toFixed(0).length>6&&(r=R(e))}return r}function R(e){return e>=a.ps?a.ps:e>=a.x4?a.x4:e>=a.kr?a.kr:e>=a.EB?a.EB:e>=a.sh?a.sh:1}},"./app/views/alerts/incidentRedirect.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>d}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.string.replace.js");var s=r("../node_modules/react/index.js"),n=r("../node_modules/react-router/es/index.js"),a=r("./app/components/loadingError.tsx"),i=r("./app/components/loadingIndicator.tsx"),o=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),l=r("./app/utils/useApi.tsx"),u=r("./app/views/alerts/utils/apiCalls.tsx"),c=r("./app/views/alerts/utils/index.tsx"),E=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function R(e){let{organization:t,params:r}=e;const R=(0,l.Z)(),[d,p]=(0,s.useState)(!1),S=(0,s.useCallback)((()=>{(0,o.Z)("alert_details.viewed",{organization:t,alert_id:parseInt(r.alertId,10)})}),[t,r.alertId]),T=(0,s.useCallback)((async()=>{p(!1);try{const e=await(0,u.yN)(R,r.orgId,r.alertId);n.browserHistory.replace({pathname:(0,c.Gu)(t,e),query:{alert:e.identifier}})}catch(e){p(!0)}}),[p,R,r.orgId,r.alertId,t]);return(0,s.useEffect)((()=>{T(),S()}),[T,S]),d?(0,E.tZ)(a.Z,{onRetry:T}):(0,E.tZ)(i.Z,{})}R.displayName="IncidentRedirect";const d=R},"./app/views/alerts/rules/metric/types.tsx":(e,t,r)=>{r.d(t,{F4:()=>a,GM:()=>l,LO:()=>p,Lm:()=>S,Tb:()=>R,Us:()=>d,XH:()=>E,Yh:()=>u,hd:()=>T,lK:()=>c,lT:()=>n,qz:()=>o,t6:()=>i});var s=r("./app/locale.tsx");let n,a,i,o,l,u,c,E,R,d;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(n||(n={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(a||(a={})),function(e){e.COUNT="count",e.CHANGE="change",e.PERCENT="percent"}(i||(i={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.GENERIC_METRICS="generic_metrics",e.SESSIONS="sessions",e.METRICS="metrics"}(o||(o={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(l||(l={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(u||(u={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(c||(c={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(E||(E={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(R||(R={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(d||(d={}));const p={[d.EMAIL]:(0,s.t)("Emai​l"),[d.SLACK]:(0,s.t)("Slack"),[d.PAGERDUTY]:(0,s.t)("Pagerduty"),[d.MSTEAMS]:(0,s.t)("MS Teams"),[d.SENTRY_APP]:(0,s.t)("Notification")};let S;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(S||(S={}));const T={[S.USER]:(0,s.t)("Member"),[S.TEAM]:(0,s.t)("Team")}},"./app/views/alerts/types.tsx":(e,t,r)=>{let s,n,a,i,o,l;r.d(t,{Gb:()=>o,XO:()=>l,lm:()=>n,ok:()=>s,vt:()=>a}),function(e){e.METRIC="metric",e.ISSUE="issue"}(s||(s={})),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(n||(n={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(a||(a={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(o||(o={})),function(e){e.METRIC="alert_rule",e.ISSUE="rule"}(l||(l={}))},"./app/views/alerts/utils/apiCalls.tsx":(e,t,r)=>{r.d(t,{dX:()=>n,hl:()=>a,yN:()=>i});const s=new(r("./app/api.tsx").KU);function n(e,t,r){return s.requestPromise(`/organizations/${e}/alert-rules/${t}/`,{query:r})}function a(e,t,r,n){return s.requestPromise(`/organizations/${e}/incidents/`,{query:{project:"-1",alertRule:t,includeSnapshots:!0,start:r,end:n,expand:["activities","seen_by","original_alert_rule"]}})}function i(e,t,r){return e.requestPromise(`/organizations/${t}/incidents/${r}/`)}},"./app/views/alerts/utils/index.tsx":(e,t,r)=>{r.d(t,{A4:()=>T,CM:()=>d,Eb:()=>A,Ey:()=>p,Gm:()=>R,Gu:()=>f,KC:()=>S,LI:()=>v,QR:()=>m,Vc:()=>N,g2:()=>U,lR:()=>_,qn:()=>I,t3:()=>O}),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.replace.js");var s=r("../node_modules/lodash/round.js"),n=r.n(s),a=r("./app/locale.tsx"),i=r("./app/types/index.tsx"),o=r("./app/utils.tsx"),l=(r("./app/utils/dates.tsx"),r("./app/utils/discover/charts.tsx")),u=r("./app/utils/discover/fields.tsx"),c=r("./app/views/alerts/rules/metric/types.tsx"),E=r("./app/views/alerts/types.tsx");function R(e){return!e.hasOwnProperty("triggers")}const d={[c.qz.ERRORS]:(0,a.t)("Errors"),[c.qz.TRANSACTIONS]:(0,a.t)("Transactions"),[c.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[c.Yh.ERROR]:"event.type:error",[c.Yh.DEFAULT]:"event.type:default",[c.Yh.TRANSACTION]:"event.type:transaction"},p={[c.Yh.ERROR_DEFAULT]:{dataset:c.qz.ERRORS,eventTypes:[c.GM.ERROR,c.GM.DEFAULT]},[c.Yh.ERROR]:{dataset:c.qz.ERRORS,eventTypes:[c.GM.ERROR]},[c.Yh.DEFAULT]:{dataset:c.qz.ERRORS,eventTypes:[c.GM.DEFAULT]},[c.Yh.TRANSACTION]:{dataset:c.qz.TRANSACTIONS,eventTypes:[c.GM.TRANSACTION]}};function S(e,t){return e===c.qz.TRANSACTIONS||e===c.qz.GENERIC_METRICS?c.Yh.TRANSACTION:t?t.includes(c.GM.DEFAULT)&&t.includes(c.GM.ERROR)?c.Yh.ERROR_DEFAULT:t.includes(c.GM.DEFAULT)?c.Yh.DEFAULT:c.Yh.ERROR:c.Yh.ERROR}function T(e){let t=e.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return t?"default,error"!==t.slice(1,3).sort().join(",")?null:{source:c.Yh.ERROR_DEFAULT,query:e.replace(t[0],"").trim()}:(t=e.match(/(^|\s)event\.type:(error|default|transaction)/i),t&&c.Yh[t[2].toUpperCase()]?{source:c.Yh[t[2].toUpperCase()],query:e.replace(t[0],"").trim()}:null)}function A(e){return Object.values(c.lK).includes(e)}const N={[c.lK.CRASH_FREE_SESSIONS]:i.kI.SESSIONS,[c.lK.CRASH_FREE_USERS]:i.kI.USERS};function _(e,t,r){return A(r)?(0,o.ri)(e)?`${n()(e,2)}%`:"―":(0,l.gu)(e,(0,u.Px)(t))}function I(e,t,r){return A(r)?(0,o.ri)(e)?`${e}%`:"―":(0,l.CX)(e,(0,u.Px)(t))}const O=1.03;function m(e){return A(e)}function f(e,t){return`/organizations/${e.slug}/alerts/rules/details/${t.alertRule.status===E.Gb.SNAPSHOT&&t.alertRule.originalAlertRuleId?t.alertRule.originalAlertRuleId:t.alertRule.id}/`}function U(e){return Array.isArray(e)||""===e?"all":["open","closed"].includes(e)?e:"all"}const h=["myteams","unassigned"];function v(e){return void 0===e?h:""===e?[]:Array.isArray(e)?e:[e]}}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_incidentRedirect_tsx.5a4bc7109ffe6cbcc59561ff60336141.js.map