function mockChooseImage(){var a=wx.getFileSystemManager();if(!global.__minium_mock_choose_image){var b=function(a,b,d){function e(){c&&(c=!1,i.forEach(function(b){g[b]?g[b].get?Object.defineProperty(a,b,{configurable:!0,get:function get(){return f[b]}}):Object.defineProperty(a,b,{writable:!0,value:f[b]}):a[b]=f[b]}))}if(c)return!1;c=!0;var f={},g={},h={chooseImage:function chooseImage(a){e();var c={errMsg:"chooseImage:ok",tempFilePaths:[b],tempFiles:[{path:b,size:d}]};return a.success||a.fail||a.complete?void(a.success&&a.success(c),a.complete&&a.complete(c)):Promise.resolve(c)},chooseMedia:function chooseMedia(a){e();var c={errMsg:"chooseMedia:ok",tempFiles:[{tempFilePath:b,size:d,fileType:"image"}],type:"image"};return a.success||a.fail||a.complete?void(a.success&&a.success(c),a.complete&&a.complete(c)):Promise.resolve(c)},createCameraContext:function createCameraContext(){var a=f.createCameraContext(),d=a.takePhoto;return Object.defineProperty(a,"takePhoto",{configurable:!0,get:function get(){return function(a){if(!c)return d.call(this,a);e();var f={tempImagePath:b,errMsg:"takePhoto:ok"};a.success&&a.success(f),a.complete&&a.complete(f)}}}),a}},i=Object.keys(h);return i.forEach(function(b){f[b]=a[b],g[b]=Object.getOwnPropertyDescriptor(a,b)}),i.forEach(function(b){g[b]?g[b].get?Object.defineProperty(a,b,{configurable:!0,get:function get(){return h[b]}}):Object.defineProperty(a,b,{writable:!0,value:h[b]}):a[b]=h[b]}),!0},c=!1;global.__minium_mock_choose_image=function(c){var d=c.imageData,e=c.imageName,f=c.size,g="".concat(wx.env.USER_DATA_PATH,"/.MINIUM_TMP/").concat(e);return d&&0!==d.length?new Promise(function(c,f){a.writeFile({filePath:g,data:d,encoding:"base64",success:function success(){a.stat({path:g,success:function success(a){var d=a.stats;b(wx,g,d.size),c({imageName:e,size:d.size})}})},fail:function fail(a){var b=a.errMsg;"writeFile:fail the maximum size of the file storage limit is exceeded"===b?f("\u5C0F\u7A0B\u5E8F\u6587\u4EF6\u7A7A\u95F4\u4E0D\u8DB3"):"writeFile:fail sdcard not mounted"===b?f("sdcard\u672A\u6302\u8F7D"):f("Mock\u5931\u8D25: ".concat(b))}})}):(b(wx,g,f),Promise.resolve({imageName:e,size:f}))};var g=!1;a.mkdir({dirPath:"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_STORE"),recursive:!1,success:function success(){g=!0},fail:function fail(a){var b=a.errMsg;0<=b.indexOf("file already exists")&&(g=!0)}});var d=a.saveFile,e=a.saveFileSync,f=a.getSavedFileList;Object.defineProperty(a,"saveFile",{configurable:!0,get:function get(){return function(b){var c=b.tempFilePath,e=b.filePath,f=b.success,g=b.fail,h=b.complete;if(c.startsWith("".concat(wx.env.USER_DATA_PATH,"/.MINIUM_TMP"))){var i={srcPath:c,destPath:e||"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_STORE/").concat(c.split("/").pop())};return f&&(i.success=function(a){a.errMsg=a.errMsg.replace("copyFile","saveFile"),a.savedFilePath=i.destPath,f(a)}),g&&(i.fail=function(a){a.errMsg=a.errMsg.replace("copyFile","saveFile"),g(a)}),h&&(i.complete=function(a){a.errMsg=a.errMsg.replace("copyFile","saveFile"),0===a.errMsg.indexOf("saveFile:ok")&&(a.savedFilePath=i.destPath),h(a)}),a.copyFile(i)}return d({tempFilePath:c,filePath:e,success:f,fail:g,complete:h})}}}),Object.defineProperty(a,"saveFileSync",{configurable:!0,get:function get(){return function(b,c){if(b.startsWith("".concat(wx.env.USER_DATA_PATH,"/.MINIUM_TMP"))){var d=c||"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_STORE/").concat(b.split("/").pop());try{return a.copyFileSync(b,d),d}catch(a){throw a.message.replace("copyFileSync","saveFileSync")}}return e(b,c)}}}),Object.defineProperty(a,"getSavedFileList",{configurable:!0,get:function get(){return function(b){var c=b.success,d=b.complete;Promise.all([new Promise(function(b){a.stat({path:"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_STORE/"),recursive:!0,complete:function(a){b((a.stats||[]).filter(function(a){return"/"!==a.path}).map(function(a){return{filePath:"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_STORE/").concat(a.path.startsWith("/")?a.path.slice(1):a.path),size:a.stats.size,createTime:a.stats.lastModifiedTime}}))}})}),new Promise(function(a){f({complete:function(b){a(b.fileList||[])}})})]).then(function(a){var b=global.babelHelpers.slicedToArray(a,2),e=b[0],f=b[1],g={fileList:e.concat(f),errMsg:"getSavedFileList:ok"};c&&c(g),d&&d(g)})}}})}return new Promise(function(b,c){a.stat({path:"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_TMP/"),recursive:!0,success:function success(a){return a.stats.length?void b(a.stats.map(function(a){return{name:a.path.replace(/^\//,""),size:a.stats.size}}).filter(function(a){return a.name})):b([])},fail:function fail(d){var e=d.errMsg;0<=e.indexOf("no such file or directory")&&a.mkdir({dirPath:"".concat(wx.env.USER_DATA_PATH,"/.MINIUM_TMP"),recursive:!0,success:function success(){b([])},fail:c})}})})}