import{d as h,u as y,c as e,b as T,r as l,f as s,o as $,e as x,w as u,j as n,E as A,i as D,k as B,l as C,G as N,H as i,I as S,z as F,g as V,J,A as j,s as z,B as E}from"./index.ac74b82c.js";import{u as G}from"./useRouteParam.fc30bbeb.js";import{u as c}from"./useSubscriptionWithDependencies.2c2d7828.js";const H={class:"task-run__meta"},K=h({__name:"TaskRun",setup(L){const _=y(),r=G("id"),p=e(()=>{const t=["Logs","Task Inputs"];return E.xl||t.push("Details"),t}),d=e(()=>r.value?[r.value]:null),f=c(J.getTaskRun,d),a=e(()=>f.response),o=e(()=>{var t;return(t=a.value)==null?void 0:t.flowRunId}),k=e(()=>o.value?[o.value]:null),m=c(j.getFlowRun,k),v=e(()=>{var t;return(t=a.value)!=null&&t.taskInputs?JSON.stringify(a.value.taskInputs,void 0,2):"{}"});function R(){m.refresh(),_.push(z.flowRun(o.value))}const w=e(()=>{var t;return(t=a.value)==null?void 0:t.stateType});return T(w),(t,O)=>{const g=l("p-tabs"),I=l("p-divider"),b=l("p-layout-well");return s(a)?($(),x(b,{key:0,class:"task-run"},{header:u(()=>[n(s(A),{"task-run":s(a),onDelete:R},null,8,["task-run"])]),well:u(()=>[D("div",H,[n(s(B),{state:s(a).state},null,8,["state"]),n(s(C),{duration:s(a).duration},null,8,["duration"]),n(s(N),{"flow-run-id":s(a).flowRunId},null,8,["flow-run-id"])]),n(I),n(s(i),{alternate:"","task-run":s(a)},null,8,["task-run"])]),default:u(()=>[n(g,{tabs:s(p)},{details:u(()=>[n(s(i),{"task-run":s(a)},null,8,["task-run"])]),logs:u(()=>[n(s(S),{"task-run":s(a)},null,8,["task-run"])]),"task-inputs":u(()=>[n(s(F),{value:s(v)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):V("",!0)}}});export{K as default};
