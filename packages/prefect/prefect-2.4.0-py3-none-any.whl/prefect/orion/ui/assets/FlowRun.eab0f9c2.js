import{d as x,u as F,c as _,a as h,b as B,r as i,o,e as t,w as l,f as a,_ as C,g as u,h as D,i as I,j as s,k as N,l as P,m as S,n as T,p as V,P as f,q as m,s as c,t as w,F as A,v as j,x as q,y as z,z as E,A as J,B as K}from"./index.ac74b82c.js";import{u as L}from"./useRouteParam.fc30bbeb.js";const O={class:"flow-run__meta"},U=x({__name:"FlowRun",setup(G){const p=F(),r=L("id"),y=_(()=>{const n=["Logs","Task Runs","Sub Flow Runs","Parameters"];return K.xl||n.push("Details"),n}),k=h(J.getFlowRun,[r],{interval:5e3}),e=_(()=>k.response),v=_(()=>{var n;return(n=e.value)!=null&&n.parameters?JSON.stringify(e.value.parameters,void 0,2):"{}"});function R(){p.push(c.flowRuns())}const $=_(()=>{var n;return(n=e.value)==null?void 0:n.stateType});return B($),(n,H)=>{const d=i("router-link"),b=i("p-tabs"),g=i("p-layout-well");return o(),t(g,{class:"flow-run"},{header:l(()=>[a(e)?(o(),t(a(C),{key:0,"flow-run":a(e),onDelete:R},null,8,["flow-run"])):u("",!0)]),well:l(()=>[a(e)?(o(),D(A,{key:0},[I("div",O,[s(a(N),{state:a(e).state},null,8,["state"]),s(a(P),{duration:a(e).duration},null,8,["duration"]),s(a(S),{"flow-id":a(e).flowId},null,8,["flow-id"]),a(e).deploymentId?(o(),t(a(T),{key:0,"deployment-id":a(e).deploymentId},null,8,["deployment-id"])):u("",!0),s(a(V),{"flow-run":a(e)},null,8,["flow-run"])]),s(a(f)),s(d,{to:a(c).radar(a(r)),class:"flow-run__small-radar-link"},{default:l(()=>[s(a(m),{"flow-run-id":a(r),class:"flow-run__small-radar"},null,8,["flow-run-id"])]),_:1},8,["to"]),s(a(f)),s(a(w),{"flow-run":a(e),alternate:""},null,8,["flow-run"])],64)):u("",!0)]),default:l(()=>[s(b,{tabs:a(y)},{details:l(()=>[s(d,{to:a(c).radar(a(r)),class:"flow-run__small-radar-link"},{default:l(()=>[s(a(m),{"flow-run-id":a(r),class:"flow-run__small-radar"},null,8,["flow-run-id"])]),_:1},8,["to"]),s(a(f)),a(e)?(o(),t(a(w),{key:0,"flow-run":a(e)},null,8,["flow-run"])):u("",!0)]),logs:l(()=>[a(e)?(o(),t(a(j),{key:0,"flow-run":a(e)},null,8,["flow-run"])):u("",!0)]),"task-runs":l(()=>[a(e)?(o(),t(a(q),{key:0,"flow-run-id":a(e).id},null,8,["flow-run-id"])):u("",!0)]),"sub-flow-runs":l(()=>[a(e)?(o(),t(a(z),{key:0,"flow-run-id":a(e).id},null,8,["flow-run-id"])):u("",!0)]),parameters:l(()=>[s(a(E),{value:a(v)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})}}});export{U as default};
