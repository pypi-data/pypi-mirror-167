import{d as g,u as C,a as b,c as k,r as v,f as e,o as D,e as S,w as m,j as p,aa as x,ab as B,g as T,W as d,ac as $,ad as F,s as i,a0 as _}from"./index.ac74b82c.js";import{u as N}from"./useRouteParam.fc30bbeb.js";const A=g({__name:"FlowRunCreate",setup(V){const o=N("id"),a=C(),f=b(d.getDeployment,[o]),s=k(()=>f.response),y=async n=>{var r,t,u;try{const c=await d.createDeploymentFlowRun(o.value,n),l=(u=(t=(r=n.state)==null?void 0:r.stateDetails)==null?void 0:t.scheduledTime)!=null?u:void 0,h=!l,R=$(F,{flowRun:c,flowRunRoute:i.flowRun,router:a,immediate:h,startTime:l});_(R,"success"),a.push(i.deployment(o.value))}catch(c){_("Something went wrong trying to create a flow run","error"),console.error(c)}},w=()=>{a.back()};return(n,r)=>{const t=v("p-layout-default");return e(s)?(D(),S(t,{key:0},{header:m(()=>[p(e(x),{deployment:e(s)},null,8,["deployment"])]),default:m(()=>[p(e(B),{deployment:e(s),onSubmit:y,onCancel:w},null,8,["deployment"])]),_:1})):T("",!0)}}});export{A as default};
