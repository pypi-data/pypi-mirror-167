import{d as h,a as k,W as u,c as C,r as w,o as n,e as r,w as m,f as t,Z as D,g as i,$ as g,a0 as l,a1 as d}from"./index.ac74b82c.js";import{u as v}from"./useRouteParam.fc30bbeb.js";const $=h({__name:"DeploymentEdit",setup(S){const c=v("id"),f={interval:3e5},_=k(u.getDeployment,[c.value],f),o=C(()=>_.response);async function y(e){e.parameters&&Object.keys(e.parameters).forEach(a=>{var p;const s=(p=e.parameters)==null?void 0:p[a];e.parameters&&s instanceof Date&&(e.parameters[a]=s.toString())});try{await u.updateDeployment(c.value,e),l("Deployment updated","success"),d.back()}catch(a){l("Error updating deployment","error"),console.warn(a)}}function b(){d.back()}return(e,a)=>{const s=w("p-layout-default");return n(),r(s,{class:"deployment-edit"},{header:m(()=>[t(o)?(n(),r(t(D),{key:0,deployment:t(o)},null,8,["deployment"])):i("",!0)]),default:m(()=>[t(o)?(n(),r(t(g),{key:0,deployment:t(o),onSubmit:y,onCancel:b},null,8,["deployment"])):i("",!0)]),_:1})}}});export{$ as default};
